
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../portfolio/">
      
      
      <link rel="icon" href="../assets/me.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>üìñ Manual - Dr Vladislav Li</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e53b48f4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#manual" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Dr Vladislav Li" class="md-header__button md-logo" aria-label="Dr Vladislav Li" data-md-component="logo">
      
  <img src="../assets/me.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Dr Vladislav Li
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              üìñ Manual
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Dr Vladislav Li" class="md-nav__button md-logo" aria-label="Dr Vladislav Li" data-md-component="logo">
      
  <img src="../assets/me.ico" alt="logo">

    </a>
    Dr Vladislav Li
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìÑ Curriculum Vitae
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    üìñ Manual
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    üìñ Manual
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operating-system" class="md-nav__link">
    <span class="md-ellipsis">
      Operating System
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Operating System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bootable-installation-media" class="md-nav__link">
    <span class="md-ellipsis">
      Bootable Installation Media
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arch-linux" class="md-nav__link">
    <span class="md-ellipsis">
      Arch Linux
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Arch Linux">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Post Installation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      Ubuntu
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-linux" class="md-nav__link">
    <span class="md-ellipsis">
      Void Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows" class="md-nav__link">
    <span class="md-ellipsis">
      Windows
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#software" class="md-nav__link">
    <span class="md-ellipsis">
      Software
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Software">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dwm" class="md-nav__link">
    <span class="md-ellipsis">
      dwm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dmenu" class="md-nav__link">
    <span class="md-ellipsis">
      dmenu
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conda" class="md-nav__link">
    <span class="md-ellipsis">
      conda
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#neofetch" class="md-nav__link">
    <span class="md-ellipsis">
      neofetch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nvim" class="md-nav__link">
    <span class="md-ellipsis">
      nvim
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oh-my-bash" class="md-nav__link">
    <span class="md-ellipsis">
      oh-my-bash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visual-studio-code" class="md-nav__link">
    <span class="md-ellipsis">
      Visual Studio Code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unity-hub-unity" class="md-nav__link">
    <span class="md-ellipsis">
      Unity Hub &amp; Unity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unreal-engine" class="md-nav__link">
    <span class="md-ellipsis">
      Unreal Engine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#libre-office" class="md-nav__link">
    <span class="md-ellipsis">
      Libre Office
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gnome-tweaks" class="md-nav__link">
    <span class="md-ellipsis">
      gnome-tweaks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nvidia-gpu-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      NVIDIA GPU monitoring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google-drive" class="md-nav__link">
    <span class="md-ellipsis">
      Google Drive:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keepass-2" class="md-nav__link">
    <span class="md-ellipsis">
      KeePass 2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-key-generation" class="md-nav__link">
    <span class="md-ellipsis">
      SSH Key Generation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    <span class="md-ellipsis">
      Docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chrome" class="md-nav__link">
    <span class="md-ellipsis">
      Chrome:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chrome-remote-desktop" class="md-nav__link">
    <span class="md-ellipsis">
      Chrome Remote Desktop:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bashrc" class="md-nav__link">
    <span class="md-ellipsis">
      .bashrc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#net" class="md-nav__link">
    <span class="md-ellipsis">
      .NET:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monodevelop" class="md-nav__link">
    <span class="md-ellipsis">
      monodevelop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ranger" class="md-nav__link">
    <span class="md-ellipsis">
      Ranger
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mkdocs" class="md-nav__link">
    <span class="md-ellipsis">
      MkDocs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utility" class="md-nav__link">
    <span class="md-ellipsis">
      Utility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minio" class="md-nav__link">
    <span class="md-ellipsis">
      MinIO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#looking-glass" class="md-nav__link">
    <span class="md-ellipsis">
      Looking Glass
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      Development Techniques
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Development Techniques">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remote-desktop" class="md-nav__link">
    <span class="md-ellipsis">
      Remote Desktop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#virtualisation" class="md-nav__link">
    <span class="md-ellipsis">
      Virtualisation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpu-passthrough" class="md-nav__link">
    <span class="md-ellipsis">
      GPU Passthrough
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpu-passthrough-for-arch" class="md-nav__link">
    <span class="md-ellipsis">
      GPU Passthrough for Arch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-way-to-passthrough-a-gpu" class="md-nav__link">
    <span class="md-ellipsis">
      New Way to Passthrough a GPU
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#software-raid" class="md-nav__link">
    <span class="md-ellipsis">
      Software RAID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bios-raid" class="md-nav__link">
    <span class="md-ellipsis">
      BIOS RAID
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#blackscreen-using-gdm3-on-ubuntu-with-wayland" class="md-nav__link">
    <span class="md-ellipsis">
      Blackscreen using gdm3 on Ubuntu with Wayland
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faq" class="md-nav__link">
    <span class="md-ellipsis">
      FAQ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FAQ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-develop-the-hardcode-project" class="md-nav__link">
    <span class="md-ellipsis">
      How to develop the hardcode project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-are-the-base-devel-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      What are the base-devel Dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-bypass-the-networking-requirement-during-the-windows-11-installation" class="md-nav__link">
    <span class="md-ellipsis">
      How to Bypass the Networking Requirement during the Windows 11 Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-to-install" class="md-nav__link">
    <span class="md-ellipsis">
      What to Install
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-reject-dhcp-service-using-networkmanager" class="md-nav__link">
    <span class="md-ellipsis">
      How to Reject DHCP Service using NetworkManager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-develop-the-hardcode-project_1" class="md-nav__link">
    <span class="md-ellipsis">
      How to develop the hardcode project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-resize-kvm-virtual-disk-size" class="md-nav__link">
    <span class="md-ellipsis">
      How to resize KVM virtual disk size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-rofi" class="md-nav__link">
    <span class="md-ellipsis">
      How to Rofi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-install-and-use-rclone" class="md-nav__link">
    <span class="md-ellipsis">
      How to Install and Use rclone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-install-surf-on-arch-linux" class="md-nav__link">
    <span class="md-ellipsis">
      How to install surf on Arch Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-enable-tpm-on-kvm" class="md-nav__link">
    <span class="md-ellipsis">
      How to enable TPM on KVM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-resize-kvm-virtual-disk-size_1" class="md-nav__link">
    <span class="md-ellipsis">
      How to resize KVM virtual disk size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-clean-wipe-a-drive" class="md-nav__link">
    <span class="md-ellipsis">
      How to Clean Wipe a Drive
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-use-timeshift" class="md-nav__link">
    <span class="md-ellipsis">
      How to Use Timeshift
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-manage-vfat-devices-on-linux" class="md-nav__link">
    <span class="md-ellipsis">
      How to manage VFAT devices on Linux
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-a" class="md-nav__link">
    <span class="md-ellipsis">
      Appendix A
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../portfolio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üñ•Ô∏è Portfolio
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operating-system" class="md-nav__link">
    <span class="md-ellipsis">
      Operating System
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Operating System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bootable-installation-media" class="md-nav__link">
    <span class="md-ellipsis">
      Bootable Installation Media
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arch-linux" class="md-nav__link">
    <span class="md-ellipsis">
      Arch Linux
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Arch Linux">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Post Installation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      Ubuntu
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-linux" class="md-nav__link">
    <span class="md-ellipsis">
      Void Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows" class="md-nav__link">
    <span class="md-ellipsis">
      Windows
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#software" class="md-nav__link">
    <span class="md-ellipsis">
      Software
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Software">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dwm" class="md-nav__link">
    <span class="md-ellipsis">
      dwm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dmenu" class="md-nav__link">
    <span class="md-ellipsis">
      dmenu
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conda" class="md-nav__link">
    <span class="md-ellipsis">
      conda
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#neofetch" class="md-nav__link">
    <span class="md-ellipsis">
      neofetch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nvim" class="md-nav__link">
    <span class="md-ellipsis">
      nvim
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oh-my-bash" class="md-nav__link">
    <span class="md-ellipsis">
      oh-my-bash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visual-studio-code" class="md-nav__link">
    <span class="md-ellipsis">
      Visual Studio Code
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unity-hub-unity" class="md-nav__link">
    <span class="md-ellipsis">
      Unity Hub &amp; Unity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unreal-engine" class="md-nav__link">
    <span class="md-ellipsis">
      Unreal Engine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#libre-office" class="md-nav__link">
    <span class="md-ellipsis">
      Libre Office
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gnome-tweaks" class="md-nav__link">
    <span class="md-ellipsis">
      gnome-tweaks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nvidia-gpu-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      NVIDIA GPU monitoring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google-drive" class="md-nav__link">
    <span class="md-ellipsis">
      Google Drive:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keepass-2" class="md-nav__link">
    <span class="md-ellipsis">
      KeePass 2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-key-generation" class="md-nav__link">
    <span class="md-ellipsis">
      SSH Key Generation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    <span class="md-ellipsis">
      Docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chrome" class="md-nav__link">
    <span class="md-ellipsis">
      Chrome:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chrome-remote-desktop" class="md-nav__link">
    <span class="md-ellipsis">
      Chrome Remote Desktop:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bashrc" class="md-nav__link">
    <span class="md-ellipsis">
      .bashrc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#net" class="md-nav__link">
    <span class="md-ellipsis">
      .NET:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monodevelop" class="md-nav__link">
    <span class="md-ellipsis">
      monodevelop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ranger" class="md-nav__link">
    <span class="md-ellipsis">
      Ranger
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mkdocs" class="md-nav__link">
    <span class="md-ellipsis">
      MkDocs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utility" class="md-nav__link">
    <span class="md-ellipsis">
      Utility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minio" class="md-nav__link">
    <span class="md-ellipsis">
      MinIO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#looking-glass" class="md-nav__link">
    <span class="md-ellipsis">
      Looking Glass
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      Development Techniques
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Development Techniques">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remote-desktop" class="md-nav__link">
    <span class="md-ellipsis">
      Remote Desktop
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#virtualisation" class="md-nav__link">
    <span class="md-ellipsis">
      Virtualisation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpu-passthrough" class="md-nav__link">
    <span class="md-ellipsis">
      GPU Passthrough
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpu-passthrough-for-arch" class="md-nav__link">
    <span class="md-ellipsis">
      GPU Passthrough for Arch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-way-to-passthrough-a-gpu" class="md-nav__link">
    <span class="md-ellipsis">
      New Way to Passthrough a GPU
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#software-raid" class="md-nav__link">
    <span class="md-ellipsis">
      Software RAID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bios-raid" class="md-nav__link">
    <span class="md-ellipsis">
      BIOS RAID
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#blackscreen-using-gdm3-on-ubuntu-with-wayland" class="md-nav__link">
    <span class="md-ellipsis">
      Blackscreen using gdm3 on Ubuntu with Wayland
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faq" class="md-nav__link">
    <span class="md-ellipsis">
      FAQ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FAQ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-develop-the-hardcode-project" class="md-nav__link">
    <span class="md-ellipsis">
      How to develop the hardcode project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-are-the-base-devel-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      What are the base-devel Dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-bypass-the-networking-requirement-during-the-windows-11-installation" class="md-nav__link">
    <span class="md-ellipsis">
      How to Bypass the Networking Requirement during the Windows 11 Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-to-install" class="md-nav__link">
    <span class="md-ellipsis">
      What to Install
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-reject-dhcp-service-using-networkmanager" class="md-nav__link">
    <span class="md-ellipsis">
      How to Reject DHCP Service using NetworkManager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-develop-the-hardcode-project_1" class="md-nav__link">
    <span class="md-ellipsis">
      How to develop the hardcode project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-resize-kvm-virtual-disk-size" class="md-nav__link">
    <span class="md-ellipsis">
      How to resize KVM virtual disk size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-rofi" class="md-nav__link">
    <span class="md-ellipsis">
      How to Rofi
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-install-and-use-rclone" class="md-nav__link">
    <span class="md-ellipsis">
      How to Install and Use rclone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-install-surf-on-arch-linux" class="md-nav__link">
    <span class="md-ellipsis">
      How to install surf on Arch Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-enable-tpm-on-kvm" class="md-nav__link">
    <span class="md-ellipsis">
      How to enable TPM on KVM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-resize-kvm-virtual-disk-size_1" class="md-nav__link">
    <span class="md-ellipsis">
      How to resize KVM virtual disk size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-clean-wipe-a-drive" class="md-nav__link">
    <span class="md-ellipsis">
      How to Clean Wipe a Drive
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-use-timeshift" class="md-nav__link">
    <span class="md-ellipsis">
      How to Use Timeshift
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-manage-vfat-devices-on-linux" class="md-nav__link">
    <span class="md-ellipsis">
      How to manage VFAT devices on Linux
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-a" class="md-nav__link">
    <span class="md-ellipsis">
      Appendix A
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="manual">üìñ Manual</h1>
<h2 id="introduction">Introduction</h2>
<p align="center">
  <img src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExNHVyamJlenB3NG01MGwwajN2MnAxOXpxZmdlenhsZDMwczJndmszNSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/rY93u9tQbybks/giphy.gif" />
</p>

<p>This is a manual that contains useful code snippets, including personal and internet code. I am trying to keep the repository somewhat structured, however, there is no single rigid structure by design, but rather a chaotic collection of things that I think might be helpful. Enjoy figuring this out.</p>
<h2 id="operating-system">Operating System</h2>
<h3 id="bootable-installation-media">Bootable Installation Media</h3>
<p>First, download the installation ISO file from the official website [<a href="https://archlinux.org/download/">1</a>, <a href="https://ubuntu.com/download/desktop">2</a>, <a href="https://www.microsoft.com/en-gb/software-download/windows11">3</a>]. Then, write (or "flash") the ISO file onto a USB flash drive.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">On Windows</label><label for="__tabbed_1_2">On Linux</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Use a tool like Rufus [<a href="https://rufus.ie/en/">1</a>]. Download the executable, run it, select a USB device and an ISO, finally start the process.</p>
</div>
<div class="tabbed-block">
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Be very careful with <code>dd</code>, as it can overwrite any drive. Avoid missing any important data.</p>
</div>
<p>Flash the ISO file using the <code>dd</code> command in the terminal, [<a href="https://wiki.archlinux.org/title/USB_flash_installation_medium">1</a>].</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/path/to/your.iso<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/dev/sdX<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>4M<span class="w"> </span><span class="nv">status</span><span class="o">=</span>progress<span class="w"> </span><span class="nv">oflag</span><span class="o">=</span>sync
</code></pre></div>
<ul>
<li>Replace <code>/path/to/your.iso</code> with the path to the ISO file you downloaded.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do <strong>not</strong> write to a partition like <code>/dev/sdb1</code>, only to the whole device <code>/dev/sdb</code>.</p>
</div>
<ul>
<li>Replace <code>/dev/sdX</code> with your USB device (e.g., <code>/dev/sdb</code>).  </li>
</ul>
</div>
</div>
</div>
<p>Make sure your USB flash drive is large enough; for example, if the ISO file is 1.2 GB, it is sensible to use a USB drive with at least 4 GB of storage. Once the ISO is written, plug the USB drive into the target computer. To boot from the USB, you may need to press a special key during startup ‚Äî check the motherboard manual to find out which key to use (often F12, ESC, or F10).</p>
<h3 id="arch-linux">Arch Linux</h3>
<h4 id="installation">Installation</h4>
<p>Once the system has loaded from a USB flash drive, as mentioned in the instructions outlined in section <a href="#bootable-installation-media">1</a>, and the installation has started. You should see a <code>zsh</code> shell, where you are logged in as <code>root@archiso</code>. From this point onwards, the next step, according to the official documentation [<a href="https://wiki.archlinux.org/title/Installation_guide#Set_the_console_keyboard_layout_and_font">1</a>], is to set the keyboard layout:</p>
<div class="highlight"><pre><span></span><code>loadkeys<span class="w"> </span>uk
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In situations, where the layout name is unknown, the <code>localectl list-keymaps</code> command would list all available layouts that could be viewed using regular arrow keys in a terminal.</p>
<div class="highlight"><pre><span></span><code>localectl<span class="w"> </span>list-keymaps
</code></pre></div>
</div>
<p>Based on the quick Google search, good UK fonts are <code>ter-v32b</code>, <code>Uni2-Terminus16</code>, <code>Lat2-Terminus32x16</code>, and <code>Lat2-Terminus16</code>. The <code>ter-v20b</code> font is a smaller variant which seems to be a good fit for my monitor size, i.e. 24‚Ä≥ at 1080p.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These fonts won't be available in the installed system unless explicitly installed.</p>
</div>
<div class="highlight"><pre><span></span><code>setfont<span class="w"> </span>ter-v20b
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Similar to the layout name, it possible to preview the fonts using a command to list all files in the fonts folder. The <code>--color=always</code> and <code>-R</code> parameters are to preserve the colour in the output.</p>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-lash<span class="w"> </span>--color<span class="o">=</span>always<span class="w"> </span>/usr/share/kbd/consolefonts/<span class="w"> </span><span class="p">|</span><span class="w"> </span>less<span class="w"> </span>-R
</code></pre></div>
</div>
<p>Verify the boot mode [<a href="https://wiki.archlinux.org/title/Installation_guide#Verify_the_boot_mode">1</a>]. The output could be either <code>64</code> or <code>32</code>, in my case it was <code>64</code>. There could be situations where the file is missing. In such situations, it means the system was booted in BIOS mode.</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>/sys/firmware/efi/fw_platform_size
</code></pre></div>
<p>Verify the networking status by first checking if the network interface is up. Importantly, the <code>UP</code> flag appears inside angle brackets. In my case, it was easy to mistake this for <code>state DOWN</code>, especially since the latter was highlighted in red due to the <code>--color</code> parameter.</p>
<div class="highlight"><pre><span></span><code>ip<span class="w"> </span>--color<span class="w"> </span>link
</code></pre></div>
<p>If the connection is down and the only way is to use WiFi, then use <code>iwctl</code>. From an extensive search on the internet, this command seems to be the easiest and most recommended way of connecting to Wi-Fi.</p>
<div class="highlight"><pre><span></span><code>iwtcl
</code></pre></div>
<p>There could be a special situation where we would be bound to notorious <code>eduroam</code>. Then we have to create a configuration file and let <code>iwctl</code> to pick it up. An example file is stored at <code>project/archlinux/var/lib/iwd/eduroam.8021x</code> which is a configuration for the <code>eduroam</code> network using login and password. Required by <code>iwctl</code>. There is <code>project/archlinux/var/lib/iwd/eduroam.8021x</code> which is a configuration to let built-in DHCP daemon resolve an IP address for the host. In case if the installed OS plans to use <code>iwctl</code> to connect to <code>eduroam</code> later then install <code>iwd</code> and <code>dhcpdc</code> and then <code>systemctl enable iwd</code> and <code>systemctl enable dhcpdc</code> to run the daemons on the system start up. Then inside the <code>iwctl</code> tool:</p>
<div class="highlight"><pre><span></span><code>device list
station wlan0 scan
station wlan0 get-networks
station wlan connect [network_name]
exit
</code></pre></div>
<p>Check the internet connection:</p>
<div class="highlight"><pre><span></span><code>ping<span class="w"> </span>archlinux.org
</code></pre></div>
<p>Manually check and sync the time and date:</p>
<div class="highlight"><pre><span></span><code>timedatectl
</code></pre></div>
<p>List the available storage devices and their locations:</p>
<div class="highlight"><pre><span></span><code>lsblk
</code></pre></div>
<p>In my case, it listed <code>/dev/nvme0n1</code>. Then, I used the <code>fdisk</code> utility to partition the drive:</p>
<div class="highlight"><pre><span></span><code>fdisk<span class="w"> </span>/dev/nvme0n1
</code></pre></div>
<p>Next, you are presented with a somewhat interactive text-based interface (TUI), although, in my opinion, it uses a rather cryptic method of operation. For example, it uses a single letter <code>p</code> to list information about the current partitioning, if any. I would personally prefer to type out full commands, but we have to work with what is provided. At this stage, I created an <code>EFI</code>, a <code>swap</code>, and a <code>Linux filesystem</code> partition. This part is not detailed in the official guide, as partitioning schemes are use-case specific. Fortunately, the author in [<a href="https://gist.github.com/mjkstra/96ce7a5689d753e7a6bdd92cdc169bae#main-installation">1</a>] offers some helpful hints.</p>
<div class="highlight"><pre><span></span><code>g # Create GPT.
ENTER
n # Create new partition.
ENTER
ENTER
ENTER
+512M
ENTER
t # Change type.
ENTER
ENTER
1 # To EFI.
ENTER
n # Create new partition.
ENTER
ENTER
ENTER
+32G
ENTER
t # Change type.
ENTER
ENTER
swap # To swap.
ENTER
n # Create new partition.
ENTER
ENTER
ENTER
ENTER
p # View the results so far.
ENTER
w # Write it.
ENTER
</code></pre></div>
<p>Format the partitions:</p>
<div class="highlight"><pre><span></span><code>mkfs.fat<span class="w"> </span>-F<span class="w"> </span><span class="m">32</span><span class="w"> </span>/dev/nvme0n1p1
mkswap<span class="w"> </span>/dev/nvme0n1p2
mkfs.ext4<span class="w"> </span>/dev/nvme0n1p3
</code></pre></div>
<p>Now, mount the file systems. Be careful with the order here: first mount the main filesystem, and then mount the EFI system partition. If you mount them in the wrong order, the EFI mount point may overwrite itself and fail to appear correctly in <code>/etc/fstab</code> later.</p>
<div class="highlight"><pre><span></span><code>mount<span class="w"> </span>/dev/nvme0n1p3<span class="w"> </span>/mnt
mount<span class="w"> </span>--mkdir<span class="w"> </span>/dev/nvme0n1p1<span class="w"> </span>/mnt/boot
swapon<span class="w"> </span>/dev/nvme0n1p2
</code></pre></div>
<p>Install the essential packages: <code>base</code>, <code>linux</code>, and <code>linux-firmware</code>. These form the minimum needed to have a functional operating system.</p>
<p>The <code>efibootmgr</code> and <code>grub</code> packages are required to pass control from the UEFI firmware to the Linux kernel. There are other bootloaders available, but I am most familiar with these. Without these packages, the rest of the installation would not work.</p>
<p>It is possible to install <code>amd-ucode</code> after booting into Arch Linux, but it is best to install it during setup so that it can be loaded early through the bootloader for full effect. If you are using an Intel CPU, use <code>intel-ucode</code> instead. If you are in a VM then the microcode packages should be omitted.</p>
<p>The <code>networkmanager</code> package is needed to connect to the internet after the installation, in order to complete the post-installation setup. For most users, <em>NetworkManager</em> is the better choice due to its ease of use, GUI support, and good compatibility with desktop environments. Although, <em>iwd</em> is lighter and faster, but it is better suited for minimal or embedded setups.</p>
<p>The <code>neovim</code> package is needed to provide a text editing tool. For instance, to edit <code>/etc/locale.gen</code> file later on. And, it so happened, my text editor of choice is <code>neovim</code>.</p>
<div class="highlight"><pre><span></span><code>pacstrap<span class="w"> </span>-K<span class="w"> </span>/mnt<span class="w"> </span>base<span class="w"> </span>linux<span class="w"> </span>linux-firmware<span class="w"> </span>efibootmgr<span class="w"> </span>grub<span class="w"> </span>networkmanager<span class="w"> </span>neovim<span class="w"> </span>amd-ucode
</code></pre></div>
<p>Generate an <code>fstab</code> file.</p>
<div class="highlight"><pre><span></span><code>genfstab<span class="w"> </span>-U<span class="w"> </span>/mnt<span class="w"> </span>&gt;&gt;<span class="w"> </span>/mnt/etc/fstab
</code></pre></div>
<p>Verify <code>/etc/fstab</code>.</p>
<div class="highlight"><pre><span></span><code>vim<span class="w"> </span>/mnt/etc/fstab
</code></pre></div>
<p>Change root into the new system.</p>
<div class="highlight"><pre><span></span><code>arch-chroot<span class="w"> </span>/mnt
</code></pre></div>
<p>Set the time zone.</p>
<div class="highlight"><pre><span></span><code>ln<span class="w"> </span>-sf<span class="w"> </span>/usr/share/zoneinfo/Europe/London<span class="w"> </span>/etc/localtime
</code></pre></div>
<p>Run hwclock to generate <code>/etc/adjtime</code>.</p>
<div class="highlight"><pre><span></span><code>hwclock<span class="w"> </span>--systohc
</code></pre></div>
<p>Edit <code>/etc/locale.gen</code> and uncomment <code>en_GB.UTF-8 UTF-8</code> and other needed UTF-8 locales. Then, generate the locales.</p>
<div class="highlight"><pre><span></span><code>locale-gen
</code></pre></div>
<p>Create the <code>/etc/locale.conf</code> file, and set the LANG variable accordingly.</p>
<div class="highlight"><pre><span></span><code><span class="nv">LANG</span><span class="o">=</span>en_GB.UTF-8
</code></pre></div>
<p>If you set the console keyboard layout, make the changes persistent in <code>/etc/vconsole.conf</code>. Later on, we can also change the font of the console [<a href="#arch-linux">1</a>].</p>
<div class="highlight"><pre><span></span><code><span class="nv">KEYMAP</span><span class="o">=</span>uk
</code></pre></div>
<p>Create the <code>/etc/hostname</code> file.</p>
<div class="highlight"><pre><span></span><code>Standard-PC
</code></pre></div>
<p>Set the root password.</p>
<div class="highlight"><pre><span></span><code>passwd
</code></pre></div>
<p>Add user.</p>
<div class="highlight"><pre><span></span><code>useradd<span class="w"> </span>-mG<span class="w"> </span>wheel<span class="w"> </span>user
passwd<span class="w"> </span>user
</code></pre></div>
<p>Deploy grub.</p>
<div class="highlight"><pre><span></span><code>grub-install<span class="w"> </span>--target<span class="o">=</span>x86_64-efi<span class="w"> </span>--efi-directory<span class="o">=</span>/boot<span class="w"> </span>--bootloader-id<span class="o">=</span>GRUB
</code></pre></div>
<p>Generate the grub configuration (it will include the microcode installed with <code>pacstrap</code> earlier).</p>
<div class="highlight"><pre><span></span><code>grub-mkconfig<span class="w"> </span>-o<span class="w"> </span>/boot/grub/grub.cfg
</code></pre></div>
<p>Enable NetworkManager before rebooting. This is considered good practice within the community. The main reason is to ensure network connectivity after rebooting, especially in situations where an SSH service is set up and there is no input or output available, such as no keyboard, mouse, or monitor connected to the system.</p>
<div class="highlight"><pre><span></span><code>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>NetworkManager
</code></pre></div>
<p>Exit from <code>chroot</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<p>Unmount everything to check if the drive is busy.</p>
<div class="highlight"><pre><span></span><code>umount<span class="w"> </span>-R<span class="w"> </span>/mnt
</code></pre></div>
<p>Reboot the system and unplug the installation media.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Instead, I prefer to shutdown the PC, unplug the USB drive, and manually boot back.</p>
</div>
<div class="highlight"><pre><span></span><code>shutdown<span class="w"> </span>-h<span class="w"> </span>now
</code></pre></div>
<h4 id="post-installation">Post Installation</h4>
<p>After the installation of the barebones Arch Linux [<a href="#arch-linux">1</a>]. Basic terminal login should be presented to the user. Log in with your user credentials.</p>
<p>Once logged in, ensure that the internet connection is working. Refer to the <code>ip --color link</code> command mentioned in [<a href="#arch-linux">1</a>] to verity the networking status. In situations where there is only Wi-Fi then use <code>nmcli</code>. Otherwise, the wire connection usually picked up automatically.</p>
<div class="highlight"><pre><span></span><code>nmcli<span class="w"> </span>device<span class="w"> </span>wifi<span class="w"> </span>list
nmcli<span class="w"> </span>device<span class="w"> </span>wifi<span class="w"> </span>connect<span class="w"> </span>*SSID*<span class="w"> </span>password<span class="w"> </span>*your_wifi_password*
nmcli<span class="w"> </span>connection<span class="w"> </span>show
</code></pre></div>
<p>Enable and start the time synchronisation service. It requires an active internet connection to synchronise the system clock with online NTP servers.</p>
<div class="highlight"><pre><span></span><code>timedatectl<span class="w"> </span>set-ntp<span class="w"> </span><span class="nb">true</span>
</code></pre></div>
<p>Configure pacman and mirrors. All was okay for me, so I just skimmed it through and left it as is.</p>
<p><div class="highlight"><pre><span></span><code>nvim<span class="w"> </span>/etc/pacman.d/mirrorlist
nvim<span class="w"> </span>/etc/pacman.conf
</code></pre></div>
Update and upgrade the system. If not root then execute <code>su -</code>.</p>
<div class="highlight"><pre><span></span><code>pacman<span class="w"> </span>-Syu
</code></pre></div>
<p>To proceed further, it is paramount to install custom packages to help better manage hardware resources and improve overall UX. The <code>sudo</code> package is important, it allows us to run as super user. The <code>base-devel</code> package group in Arch Linux provides essential development tools like <code>make</code>, <code>gcc</code>, and <code>binutils</code>, which are required to compile software, especially when using the AUR (Arch User Repository) [<a href="#what-are-the-base-devel-dependencies">1</a>]. The <code>openssh</code> package is used to ssh and manage keys. The <code>man</code> package to "read the f-ing manual" [<a href="https://en.wikipedia.org/wiki/Jargon_File">1</a>]. The <code>git git-lfs</code> packages are there because of VCS [<a href="https://en.wikipedia.org/wiki/Version_control">1</a>]. To download files from the internet: <code>curl wget</code>. The <code>xorg xorg-xinit</code> packages are to enable GUI through X Systems as I consider Wayland too early to adapt. The <code>xf86-video-amdgpu</code> package is optional and it was included because the target computer iGPU is AMD-based. The <code>polkit-gnome</code> package is optional. Some software require priviliges and they are capable to self-elevate the priviliges if <code>polkit</code> is available. It comes as a dependency of the <code>polkit-gnome</code> package. The <code>alacritty</code> terminal is the default temrinal emulator of choice. The <code>firefox</code> browser is a compromise between widely available and provided the features I like. The <code>keepassxc</code> software is a password manager tool. To connect to my Google Drive I use <code>rclone</code>. To make colours warmer during late hours I use <code>redshift</code>. The <code>p7zip</code> package is used to extract archives. The <code>pipewire pipewire-alsa pipewire-pulse pipewire-jack wireplumber</code> packages are needed to manage audio. The new audio framework replacing pulse and jack. And, <code>wireplumber</code> is the pipewire session manager. The <code>bluez bluez-utils</code> packages provide <code>bluetoothctl</code>. Finally, we install a bunch of fancy fonts, <code>terminus-font nerd-fonts ttf-terminus-nerd noto-fonts noto-fonts-cjk noto-fonts-emoji noto-fonts-extra ttf-font-awesome</code>, at a cost of large storage space, i.e. aproximately 8-9 GB. On a bright side, it should cover almost any character including various emojis. If not root then execute <code>su -</code>.</p>
<div class="highlight"><pre><span></span><code>pacman<span class="w"> </span>--sync<span class="w"> </span>sudo<span class="w"> </span>base-devel<span class="w"> </span>openssh<span class="w"> </span>man<span class="w"> </span>git<span class="w"> </span>git-lfs<span class="w"> </span>curl<span class="w"> </span>wget<span class="w"> </span>xorg<span class="w"> </span>xorg-xinit<span class="w"> </span>xf86-video-amdgpu<span class="w"> </span>polkit-gnome<span class="w"> </span>alacritty<span class="w"> </span>firefox<span class="w"> </span>keepassxc<span class="w"> </span>rclone<span class="w"> </span>redshift<span class="w"> </span>p7zip<span class="w"> </span>pipewire<span class="w"> </span>pipewire-alsa<span class="w"> </span>pipewire-pulse<span class="w"> </span>pipewire-jack<span class="w"> </span>wireplumber<span class="w"> </span>bluez<span class="w"> </span>bluez-utils<span class="w"> </span>terminus-font<span class="w"> </span>nerd-fonts<span class="w"> </span>ttf-terminus-nerd<span class="w"> </span>noto-fonts<span class="w"> </span>noto-fonts-cjk<span class="w"> </span>noto-fonts-emoji<span class="w"> </span>noto-fonts-extra<span class="w"> </span>ttf-font-awesome
</code></pre></div>
<p>Setup <em>sudo</em> priviliges for the <em>wheel</em> group by uncommenting the <code>%wheel ALL=(ALL:ALL) ALL</code> line.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You don't need to reboot the PC for the changes to take effect.</p>
</div>
<div class="highlight"><pre><span></span><code>su<span class="w"> </span>-
<span class="nv">EDITOR</span><span class="o">=</span>nvim<span class="w"> </span>visudo
</code></pre></div>
<p>Here‚Äôs how you can set <code>EDITOR=nvim</code> system-wide on Arch Linux or similar systems using <code>/etc/environment</code>. Open <code>/etc/environment</code> with root privileges:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>nvim<span class="w"> </span>/etc/environment
</code></pre></div>
<p>Add the line below (or modify if <code>EDITOR</code> already exists). And, save and exit. This change applies to all users at next login.</p>
<div class="highlight"><pre><span></span><code><span class="nv">EDITOR</span><span class="o">=</span>nvim
</code></pre></div>
<p>As in [<a href="https://forum.manjaro.org/t/bluetoothctl-missing-in-my-installation/88318">1</a>, <a href="https://wiki.archlinux.org/title/Bluetooth">2</a>], to find what package is required to install a command run the following.</p>
<div class="highlight"><pre><span></span><code>clear<span class="w"> </span><span class="p">;</span><span class="w"> </span>pacman<span class="w"> </span>-Fy<span class="w"> </span>bluetoothctl
</code></pre></div>
<p>I wanted to keep the barebones Arch Linux installation as minimal as possible, so I moved console font configuration to here as a post-installation step. Append <code>/etc/vconsole.conf</code>. The <code>FONT</code> parameter depends on the <code>terminus-font</code> package, and while optional, it resolved a warning that was raised when building <code>mkinitcpio</code> [<a href="https://forum.manjaro.org/t/is-it-safe-to-remove-the-consolefont-buildhook/87086/2">1</a>]. This font is used system-wide when booting into the system.</p>
<div class="highlight"><pre><span></span><code>FONT=ter-v20b
</code></pre></div>
<p>After modification, the initial RAM file system needs to be rebuilt. After reboot, the console fonts should change to the one specified in the configuration file.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>mkinitcpio<span class="w"> </span>-p<span class="w"> </span>linux
</code></pre></div>
<p>To enable bluetooth, ensure <code>bluez</code>, and <code>bluez-utils</code> are installed on the system. The utilities package should contain <code>bluetoothctl</code> command [<a href="https://wiki.archlinux.org/title/Bluetooth">1</a>]. Enable and start the service.</p>
<div class="highlight"><pre><span></span><code>clear<span class="w"> </span><span class="p">;</span><span class="w"> </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>bluetooth
clear<span class="w"> </span><span class="p">;</span><span class="w"> </span>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>bluetooth
clear<span class="w"> </span><span class="p">;</span><span class="w"> </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>bluetooth
clear<span class="w"> </span><span class="p">;</span><span class="w"> </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>bluetooth
</code></pre></div>
<p>To connect a device via <code>bluetoothctl</code>.</p>
<div class="highlight"><pre><span></span><code>bluetoothctl
power on
agent on
scan on
pair &lt;MAC&gt;
connect &lt;MAC&gt;
trust &lt;MAC&gt;
</code></pre></div>
<p>The most up-to-date approach to manage audio seems to be <code>pipewire</code> but it comes with its own quirks like <code>rtkit</code> warnings [<a href="https://github.com/NixOS/nixpkgs/issues/382076">1</a>]. On a bright side, it seems like it works out-of-the-box.</p>
<p>At this point, it might be a good idea to install a GUI like <code>dwm</code>. Refer to the instructions in [<a href="#dwm">1</a>] to install <code>dwm</code>.</p>
<p>Since we installed <em>polkit</em> and the agent, let's add it to the <code>.xinitrc</code>. This is optional as it requires <em>polkit</em> and implies that we use WM instead of a DE.</p>
<div class="highlight"><pre><span></span><code><span class="nb">exec</span><span class="w"> </span>/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1<span class="w"> </span><span class="p">&amp;</span>
</code></pre></div>
<p>At this point, the customised part of <code>~/.xinitrc</code> should have the following. To find <code>ATITUDE:LONGITUDE</code> for Redshift follow the instructions at [<a href="https://wiki.archlinux.org/title/Redshift">1</a>].
51.50853, -0.12574
<div class="highlight"><pre><span></span><code><span class="c1"># my rules</span>
setxkbmap<span class="w"> </span>gb
status<span class="w"> </span><span class="p">&amp;</span>
redshift<span class="w"> </span>-P<span class="w"> </span>-O<span class="w"> </span><span class="m">2700</span><span class="w"> </span>-l<span class="w"> </span>LATITUDE:LONGITUDE<span class="w"> </span><span class="p">&amp;</span>
<span class="nb">exec</span><span class="w"> </span>/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1<span class="w"> </span><span class="p">&amp;</span>
<span class="nb">exec</span><span class="w"> </span>dwm
</code></pre></div></p>
<p>And, <code>~/.bashrc</code> should have the following.</p>
<div class="highlight"><pre><span></span><code><span class="nb">alias</span><span class="w"> </span><span class="nv">ls</span><span class="o">=</span><span class="s1">&#39;LC_COLLATE=C ls --color=auto --group-directories-first --sort=version&#39;</span>
<span class="nb">alias</span><span class="w"> </span><span class="nv">ll</span><span class="o">=</span><span class="s1">&#39;ls -lashF&#39;</span>

<span class="nv">PATH</span><span class="o">=</span>~/.local/bin:<span class="nv">$PATH</span>

<span class="c1"># By default, Arch would use `vi` as the default editor.</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">EDITOR</span><span class="o">=</span>nvim
</code></pre></div>
<p>There was a situation where the PC used iGPU to calculate graphics but used dGPU to output graphics. In situations where the PC should be forced to use <code>xf86-video-amdgpu</code> modify <code>/etc/X11/xorg.conf.d/xorg.conf</code>. Bare in mind that <code>"PCI:19:0:0"</code> is taken from the output of <code>lspci -nnk</code>, where the numbers are represented in <strong>hexadecimal</strong> format but the <code>BusID</code> is in <strong>decimal</strong> format. I didn't need to append zeros at the beginning, e.g. <code>PCI:0:19:0</code> is invalid.</p>
<div class="highlight"><pre><span></span><code>Section &quot;Device&quot;
    Identifier &quot;iGPU&quot;
    Driver &quot;amdgpu&quot;
    BusID &quot;PCI:19:0:0&quot;
EndSection
</code></pre></div>
<p>At this point, the installation of Arch Linux should be somewhat usable. Further information on post-installation advices is available at <a href="https://wiki.archlinux.org/title/General_recommendations">1</a>.</p>
<h3 id="ubuntu">Ubuntu</h3>
<p><strong>Installation</strong></p>
<p>Once the installation has started and the system has loaded, as mentioned in the section <a href="#bootable-installation-media">1</a>. Follow on-screen instructions.</p>
<p><strong>Post Installation</strong></p>
<p>The post-installation phase involves setting up programs that are useful regardless of the system‚Äôs purpose ‚Äî whether for computer vision tasks, game development, or general use. The programs listed in this section are valuable in any setup.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some packages, like <code>build-essential</code>, may already be installed by default on certain systems, such as Ubuntu 20.04.5.</p>
</div>
<p>The <code>build-essential</code> package installs important development tools, including a compiler, linker, libraries, and headers used during software compilation. Many third-party programs rely on it, and errors can occur if it is missing. It often comes pre-installed on some distributions.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>build-essential
</code></pre></div>
<p>The <code>ubuntu-restricted-extras</code> package installs software not included in the Ubuntu installation ISO due to copyright restrictions. It includes programs such as:</p>
<ul>
<li><code>ttf-mscorefonts-installer</code></li>
<li><code>libavcodec-extra</code></li>
<li><code>libavcodec-extra58</code></li>
<li><code>libmspack0</code></li>
<li><code>libvo-amrwbenc0</code></li>
<li><code>unrar</code></li>
<li><code>cabextract</code></li>
<li><code>libaribb24-0</code></li>
</ul>
<p>Install it with:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>ubuntu-restricted-extras
</code></pre></div>
<p>The <code>gstreamer1.0-libav</code>, <code>gstreamer1.0-plugins-ugly</code>, and <code>gstreamer1.0-vaapi</code> packages provide additional multimedia support, similar to what <code>ubuntu-restricted-extras</code> offers. However, unlike <code>ubuntu-restricted-extras</code>, these packages are available on many Debian-based distributions, not just Ubuntu.</p>
<p>Install them with:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>gstreamer1.0-libav<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>gstreamer1.0-plugins-ugly<span class="w"> </span><span class="se">\</span>
<span class="w">                 </span>gstreamer1.0-vaapi
</code></pre></div>
<p>The <code>fonts-powerline</code> package installs special fonts which make the BASH shell easier on the eyes, particularly when using tools like <em>oh-my-bash</em>.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>fonts-powerline
</code></pre></div>
<p>The <code>p7zip-full</code> package installs a utility to archive and unarchive files. This is an important tool to have. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A small reminder: when extracting files, the <code>-o</code> option in the <code>7z</code> command must not have a space between <code>-o</code> and the output path.</p>
</div>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>7z<span class="w"> </span>x<span class="w"> </span><span class="s2">&quot;archive.zip&quot;</span><span class="w"> </span>-ooutput/path
</code></pre></div>
<p>Install <code>p7zip-full</code> with:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>p7zip-full
</code></pre></div>
<p>The <code>curl</code> and <code>wget</code> packages install utilities that allow downloading files from remote computers via URLs. Typically, <code>wget</code> comes pre-installed with Ubuntu, but <code>curl</code> may not. I prefer to have both available.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>curl<span class="w"> </span>wget
</code></pre></div>
<p>The <code>ffmpeg</code> package installs a utility for working with media files, such as MPEG-4 videos and MP3 audio. However, I have found it better to install <code>ffmpeg</code> inside a <code>conda</code> environment to keep the system-level environment clean.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>ffmpeg
</code></pre></div>
<p>The <code>git</code> package is the most common source code management tool. Although there are other tools like <em>Plastic SCM</em> and <em>Perforce</em>, most teams use <code>git</code>. It is also useful to install <code>git-lfs</code> for handling large files.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>git<span class="w"> </span>git-lfs
</code></pre></div>
<p>Sometimes, Git Large File Storage (LFS) can cause issues. I usually resolve them with:</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>lfs<span class="w"> </span>install<span class="w"> </span>--skip-repo
</code></pre></div>
<p>In situations where Timeshift is used to backup root, the following commands will mount selected partition at the <code>/timeshift</code> location. Start by retrieving UUID of the selected partition.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>blkid<span class="w"> </span>/dev/sda3
</code></pre></div>
<p>Then edit <code>/etc/fstab</code>.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>nvim<span class="w"> </span>/etc/fstab
</code></pre></div>
<p>Add the following line at the bottom of the file, save, and exit. The drive should disappear from the dashboard on Ubuntu 24.04.2. The changes should apply after reboot.</p>
<div class="highlight"><pre><span></span><code>/dev/disk/by-uuid/2e11a84b-8fdf-4ad3-b3d9-6da3ab1bad4f<span class="w"> </span>/timeshift<span class="w"> </span>ext4<span class="w"> </span>defaults<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">2</span>
</code></pre></div>
<p>Instructions to backup files are detailed in [<a href="#how-to-use-timeshift">1</a>].</p>
<h3 id="void-linux">Void Linux</h3>
<p>Materials that were used to configure Void Linux with the following components: bspwm, sxhkd, rofi, kitty, zsh, eww, picom, neovim, firefox, thunar.</p>
<p><strong>Window Manager &amp; UI Components</strong></p>
<ul>
<li><a href="https://github.com/raexera/tokyo">BSPWM, SXHKD, ROFI, EWW Setup - tokyo rice</a></li>
<li><a href="https://elkowar.github.io/eww/">EWW Documentation</a></li>
<li><a href="https://dharmx.is-a.dev/eww-powermenu/">EWW Powermenu Example</a></li>
<li><a href="https://github.com/ibhagwan/picom-ibhagwan-template">Picom (ibhagwan fork)</a></li>
</ul>
<p><strong>Terminal &amp; Shell</strong></p>
<ul>
<li><a href="https://sw.kovidgoyal.net/kitty/">Kitty Terminal Emulator</a> <em>(not in original list, for completeness)</em></li>
<li><a href="https://www.zsh.org/">Zsh Shell</a> <em>(not in original list, for completeness)</em></li>
</ul>
<p><strong>Text Editing</strong></p>
<ul>
<li><a href="https://neovim.io/">Neovim</a></li>
</ul>
<p><strong>Web Browser &amp; File Management</strong></p>
<ul>
<li><a href="https://www.mozilla.org/en-GB/firefox/new/">Firefox</a></li>
<li><a href="https://docs.xfce.org/xfce/thunar/start">Thunar File Manager</a></li>
</ul>
<p><strong>Fonts</strong></p>
<ul>
<li><a href="https://github.com/ryanoasis/nerd-fonts?tab=readme-ov-file#font-installation">Nerd Fonts ‚Äì Installation Guide</a></li>
<li><a href="https://fontawesome.com/download">Font Awesome Download</a></li>
<li><a href="https://dtinth.github.io/comic-mono-font/">Comic Mono Font</a></li>
<li><a href="https://github.com/g5becks/Cartograph">Cartograph Font (g5becks fork)</a></li>
</ul>
<p><strong>Productivity Tools</strong></p>
<ul>
<li><a href="https://github.com/todotxt/todo.txt-cli">todo.txt CLI</a></li>
</ul>
<p><strong>Helpful Void Linux Discussions &amp; Guides</strong></p>
<ul>
<li><a href="https://www.reddit.com/r/voidlinux/comments/a2bdiz/startx_on_boot/">startx on boot</a></li>
<li><a href="https://www.reddit.com/r/voidlinux/comments/drvlui/does_void_have_a_buildessential_style_meta_package/">Meta-package for build tools</a></li>
<li><a href="https://www.reddit.com/r/voidlinux/comments/aws4n8/how_do_i_install_fonts/">Installing fonts</a></li>
<li><a href="https://www.reddit.com/r/voidlinux/comments/jkz7hc/is_it_possible_to_get_imagemagick_on_linux/">Using ImageMagick on Void</a></li>
</ul>
<p><strong>Ideas for Custom Themes</strong></p>
<ul>
<li>https://github.com/gh0stzk/dotfiles?tab=readme-ov-file#-installation</li>
</ul>
<p>According to the internet, Arch Linux's motto is to use the latest and greatest, whereas Void Linux's motto is to use the latest stable versions of software. Because of this, I am gravitating towards Void Linux.</p>
<p>I find Hyper-V bad. Just now, I have tried to run an Arch Linux instance then when I installed BSPWM and rebooted it stopped responding. Now, I will try VirtualBox.</p>
<p>What is happening? The world is in crisis. Nothing new. </p>
<p>How do we, people, understand whether something is of good quality of not? Take, for instance, CPUs. Something what is close to me as I am a computer scientist, i.e. programmer. CPU is an important part of my job as it is one of the key enablers. Without a CPU there would be nothing to program and, logically, no work me. Accepting this fact, naturally, we would want to obtain one of these, so-called, CPUs. However, there is a plethora of options, how, on earth, people understand which one to choose? There are majour companies or manufacturers such as Intel, AMD, Arm, Qualcomm, etc. For the PC market, as of the time of writing, the dominant CPUs are x86-based. Thus, as observed throughout the time in real life and the internet, the leaders are Intel and AMD. Each of these two offers the market CPUs to suit the consumer, business, and high-performance needs. For instance, Intel offers Core, Xeon, and Pentium series. Whereas, AMD offers Ryzen, Threadripper, and EPYC series.</p>
<p><strong>Void Linux Installation (WIP)</strong></p>
<p>Everything starts from choose an ISO. For Void Linux, I went with <code>x86_64</code> version because I am using <code>x86_64</code>-based CPU and for C library I decided to try <code>musl</code>. The <code>rofi</code> package is the application launcher. It is typically started by pressing <code>super</code> and <code>space</code> at the same time.</p>
<pre><code>sudo xbps-install -Syu
sudo xbps-install -S git git-lfs base-devel
sudo xbps-install -S xorg bspwm sxhkd rofi alacritty neovim firefox nnn
mkdir -p $HOME/.config/bspwm/
mkdir -p $HOME/.config/sxhkd/
cp /usr/share/doc/bspwm/examples/bspwmrc $HOME/.config/bspwm/
cp /usr/share/doc/bspwm/examples/sxhkdrc $HOME/.config/sxhkd/
</code></pre>
<p>Edit the <code>sxhkdrc</code> configuration file. Change the default editor to <code>alacritty</code>.</p>
<pre><code>super + Return
    alacritty
</code></pre>
<p>Change the application launcher to <code>rofi -show run</code>.</p>
<pre><code>super + @space
    rofi -show run
</code></pre>
<p>These should be enough to run basic configuration. In the future, I might consider packages such as <code>ly</code>, <code>jqmenu</code>, and <code>eww</code>. The <code>ly</code> would provie me with a simple TUI login screen. The <code>jqmenu</code> would mimick <code>openbox</code>'s right-click application menu. And, <code>eww</code>, is a highly customisable widgets, including a taskbar. After installing <code>nnn</code>, edit the <code>.bashrc</code> file to add the following.</p>
<pre><code>alias nnn='nnn -d -e -H -r'
</code></pre>
<p>To run bspwm, for now, configure <code>.xinitrc</code> and run <code>startx</code>.</p>
<pre><code>nvim .xinitrc
</code></pre>
<p>The contents of <code>.xinitrc</code> should look like this.</p>
<pre><code>exec bspwm
</code></pre>
<p>I just create a folder for random projects as code snippets. I named it <code>project</code>.</p>
<p>About <code>project/python/streamlit-login</code>, it requires an additional step to go to a provider like Google Cloud Console to generate <code>client_id</code> and <code>client_secret</code> for the Streamlit application. More information could be found <a href="https://developers.google.com/identity/openid-connect/openid-connect">here</a>.</p>
<h3 id="windows">Windows</h3>
<p><strong>Installation</strong></p>
<p>Once the installation has started and the system has loaded, as mentioned in the section <a href="#bootable-installation-media">1</a>. Follow on-screen instructions.</p>
<p><strong>Post Installation</strong></p>
<ol>
<li>
<p><strong>Windows 11</strong>
    After installation, the B650I AX would prompt with a GIGABYTE Control Center. My advice is to avoid it. The software is heavily under developed. Firstly, I started installing the driver for the chipset, <em>mb_driver_597_chipset_7.01.08.129</em>. Then, LAN driver, <em>mb_driver_654_w11_11.21.0903.2024</em>. Then, Audio driver, <em>mb_driver_612_realtekdch_6.0.9733.1</em>. Then, Video driver for APU, <em>mb_driver_2689_apu5_24.30.18.241224</em>. Then, Bluetooth driver, <em>mb_driver_675_realtek8852_1.1068.2401.1903</em>. Interestingly, it prompted me whether I should re-install it using compatibility settings which I actually did but only once.</p>
</li>
<li>
<p><strong>Windows 10</strong></p>
<p>Windows 10 is a major release of Microsoft's Windows NT operating system. It is the direct successor to Windows 8.1, which was released nearly two years earlier. It was released to manufacturing on July 15, 2015, and later to retail on July 29, 2015. Windows 10 was made available for download via MSDN and TechNet, as a free upgrade for retail copies of Windows 8 and Windows 8.1 users via the Microsoft Store, and to Windows 7 users via Windows Update. Windows 10 receives new builds on an ongoing basis, which are available at no additional cost to users, in addition to additional test builds of Windows 10, which are available to Windows Insiders. Devices in enterprise environments can receive these updates at a slower pace, or use long-term support milestones that only receive critical updates, such as security patches, over their ten-year lifespan of extended support. In June 2021, Microsoft announced that support for Windows 10 editions which are not in the Long-Term Servicing Channel (LTSC) will end on October 14, 2025.</p>
<ul>
<li>To display Russian characters instead of squares.<ol>
<li>Open Language settings.</li>
<li>Open Administrative language settings.</li>
<li>Open Language for non-Unicode programs.</li>
<li>Click on the "Change system locale..." button.</li>
<li>Under Current system locale, select Russian (Russia).<ol>
<li>Don't check "Beta: Use Unicode UTF-8 for worldwide language support".</li>
</ol>
</li>
<li>Restart the PC.</li>
</ol>
</li>
<li>List of common applications I need.<ul>
<li>7-zip</li>
<li>miniconda3 (more details <a href="https://github.com/couper64/hardcode.internal">here</a>)</li>
<li>FastStone Image Viewer</li>
<li>Git</li>
<li>KeePass</li>
<li>Substituted KeePass with <strong>KeePassX</strong> because it is more modern.</li>
<li>VLC</li>
<li>WSL (more details <a href="https://github.com/couper64/hardcode.internal">here</a>)</li>
<li>VirtualBox required Microsoft Redistributable 2019</li>
<li>Docker (more details <a href="https://github.com/couper64/hardcode.internal">here</a>)</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="software">Software</h2>
<h3 id="dwm">dwm</h3>
<p>As per [<a href="https://dwm.suckless.org/">1</a>], dwm is a dynamic window manager for X. It manages windows in tiled, monocle and floating layouts. All of the layouts can be applied dynamically, optimising the environment for the application in use and the task performed.</p>
<p>The <code>dwm</code> package have the following dependencies on Arch Linux: <code>base-devel git libx11 libxft xorg-server xorg-xinit terminus-font</code> [<a href="https://davidtsadler.com/posts/arch/2020-08-17/installing-st-dmenu-dwm-in-arch-linux/">1</a>]. The fonts are optional. And, the former guide used <code>st</code> but I opted for <code>alacritty</code>.</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>-p<span class="w"> </span>~/.local/src
git<span class="w"> </span>clone<span class="w"> </span>git://git.suckless.org/dwm<span class="w"> </span>~/.local/src/dwm
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/.local/src/dwm
nvim<span class="w"> </span>config.mk
</code></pre></div>
<p>Edit <code>config.mk</code> to achieve the same as earlier.</p>
<div class="highlight"><pre><span></span><code># XINERAMALIBS  = -lXinerama
# XINERAMAFLAGS = -DXINERAMA
</code></pre></div>
<p>Edit <code>config.def.h</code> to set the <code>alacritty</code> terminal instead of <code>st</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">termcmd</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;alacritty&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="p">};</span>
</code></pre></div>
<p>Compile and install.</p>
<div class="highlight"><pre><span></span><code>make<span class="w"> </span>clean
make<span class="w"> </span>install
</code></pre></div>
<p>Make the <code>dwm</code> executable available to the entire user-space system.</p>
<div class="highlight"><pre><span></span><code>nvim<span class="w"> </span>~/.bashrc
</code></pre></div>
<p>Edit <code>.bashrc</code> file.</p>
<div class="highlight"><pre><span></span><code><span class="nv">PATH</span><span class="o">=</span>~/.local/bin:<span class="nv">$PATH</span>
</code></pre></div>
<p>Copy <code>.xinitrc</code> from default location to home folder for customisation [<a href="https://wiki.archlinux.org/title/Xinit">1</a>].</p>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>/etc/X11/xinit/xinitrc<span class="w"> </span>~/.xinitrc
nvim<span class="w"> </span>~/.xinitrc
</code></pre></div>
<p>Edit <code>.xinitrc</code> file.</p>
<div class="highlight"><pre><span></span><code><span class="nb">exec</span><span class="w"> </span>dwm
</code></pre></div>
<p>After, when ready to switch to GUI run the following.</p>
<div class="highlight"><pre><span></span><code>clear<span class="w"> </span><span class="p">;</span><span class="w"> </span>startx
</code></pre></div>
<p>There are many shortcuts to remember [<a href="https://ratfactor.com/dwm">1</a>]. </p>
<p><strong>Customisation Instructions</strong></p>
<p>The <em>suckless</em> software is customised primarily through <em>patches</em> [<a href="https://dwm.suckless.org/patches/">1</a>, <a href="https://tools.suckless.org/dmenu/patches/">2</a>, <a href="https://st.suckless.org/patches/">3</a>]. These patches in turn modify the source code that is written in C. To apply a patch issue a command such as like: <code>patch &lt; path/to/patch.diff</code>. I would recommend to issue the commands from the root folder of a project. Also, <code>*.rej</code> contains changes that were rejected due to conflicts. These changes must be handled manually [<a href="https://www.reddit.com/r/suckless/comments/x1uk8k/how_to_know_which_version/">1</a>].</p>
<p>Applied the patches for <code>dwm</code> in order of appearance: <a href="https://dwm.suckless.org/patches/bar_height/">bar height</a>, <a href="https://dwm.suckless.org/patches/barpadding/">barpadding</a>, <a href="https://dwm.suckless.org/patches/vanitygaps/">vanitygapps</a>.</p>
<p>The <code>config.h</code> file is a generated file and, in my case, was own by <code>root</code>. Therefore, it was easier to modify <code>config.def.h</code> file and remove <code>config.h</code> when rebuilding.</p>
<p>To set custom fonts, e.g. Terminus, Tamzen, JetBrains Mono, Hack, and Source Code Pro, change the arguments from <code>"monospace:size=10"</code> to <code>"xos4 Terminus:pixelsize=14"</code> in <code>config.def.h</code>.</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">borderpx</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">  </span><span class="cm">/* border pixel of windows */</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">gappiv</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="cm">/* vert inner gap between windows */</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">user_bh</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="cm">/* 2 is the default spacing around the bar&#39;s font */</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">vertpad</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="cm">/* vertical padding of bar */</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">sidepad</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="cm">/* horizontal padding of bar */</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">fonts</span><span class="p">[]</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;xos4 Terminus:pixelsize=14&quot;</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">dmenufont</span><span class="p">[]</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;xos4 Terminus:pixelsize=14&quot;</span><span class="p">;</span>
</code></pre></div>
<p>The patches for <code>dmenu</code>: <a href="https://tools.suckless.org/dmenu/patches/bar_height/">bar height</a>, <a href="https://tools.suckless.org/dmenu/patches/border/">border</a>, <a href="https://tools.suckless.org/dmenu/patches/case-insensitive/">case-insensitive</a>, <a href="https://tools.suckless.org/dmenu/patches/center/">center</a>.</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">user_bh</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="cm">/* add an defined amount of pixels to the bar height */</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">fonts</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;xos4 Terminus:pixelsize=14&quot;</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="cm">/* -l option; if nonzero, dmenu uses vertical list with given number of lines */</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">lines</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="w">    </span><span class="cm">/* Size of the window border */</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">border_width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</code></pre></div>
<p>Things I need in a status bar:</p>
<ol>
<li>Time &amp; date</li>
<li>Volume level</li>
<li>Wi-Fi status</li>
<li>Bluetooth status</li>
<li>TBD</li>
</ol>
<p>A script that achieves this is available at <code>project/dotfiles/.local/bin/status</code>. I usually copy it over to <code>~/.local/bin/status</code>. An example is displayed below. If there are squares instead of icons then the system is either missing the right fonts that supports icons or the text editor is misconfigured.</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="c1">#!/bin/bash</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span>true<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="c1"># Volume</span>
<span class="w">        </span><span class="nv">VOL</span><span class="o">=</span><span class="k">$(</span>wpctl<span class="w"> </span>get-volume<span class="w"> </span>@DEFAULT_AUDIO_SINK@<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{printf(&quot;%d&quot;, $2 * 100)}&#39;</span><span class="k">)</span>

<span class="w">        </span><span class="c1"># Time</span>
<span class="w">        </span><span class="nv">TIME</span><span class="o">=</span><span class="k">$(</span>date<span class="w"> </span><span class="s1">&#39;+%Y/%m/%d %H:%M:%S&#39;</span><span class="k">)</span>

<span class="w">        </span><span class="c1"># Wi-Fi</span>
<span class="w">        </span><span class="nv">WIFI</span><span class="o">=</span><span class="k">$(</span>nmcli<span class="w"> </span>-t<span class="w"> </span>-f<span class="w"> </span>active,ssid<span class="w"> </span>dev<span class="w"> </span>wifi<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s1">&#39;^yes&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d:<span class="w"> </span>-f2<span class="k">)</span>
<span class="w">        </span><span class="nv">SIGNAL</span><span class="o">=</span><span class="k">$(</span>nmcli<span class="w"> </span>-t<span class="w"> </span>-f<span class="w"> </span>active,ssid,signal<span class="w"> </span>dev<span class="w"> </span>wifi<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s1">&#39;^yes&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d:<span class="w"> </span>-f3<span class="k">)</span>

<span class="w">        </span><span class="c1"># Bluetooth</span>
<span class="w">        </span><span class="nv">BT_INFO</span><span class="o">=</span><span class="k">$(</span>bluetoothctl<span class="w"> </span>info<span class="k">)</span>
<span class="w">        </span><span class="nv">BT_CONNECTED</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$BT_INFO</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;Connected:&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $2}&#39;</span><span class="k">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$BT_CONNECTED</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;yes&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">            </span><span class="nv">BT_NAME</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$BT_INFO</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;Name:&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span>-f2-<span class="k">)</span>
<span class="w">            </span><span class="nv">BT_RAW_RSSI</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$BT_INFO</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;RSSI:&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{print $2}&#39;</span><span class="k">)</span>
<span class="w">        </span><span class="nv">BT_DEC_RSSI</span><span class="o">=</span><span class="k">$(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;%d&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$BT_RAW_RSSI</span><span class="s2">&quot;</span><span class="k">)</span>

<span class="w">        </span><span class="c1"># Signal quality based on dBm.</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$BT_DEC_RSSI</span><span class="s2">&quot;</span><span class="w"> </span>-ge<span class="w"> </span>-60<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                </span><span class="nv">BT_QUALITY</span><span class="o">=</span><span class="s2">&quot;Excellent&quot;</span>
<span class="w">            </span><span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$BT_DEC_RSSI</span><span class="s2">&quot;</span><span class="w"> </span>-ge<span class="w"> </span>-70<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                </span><span class="nv">BT_QUALITY</span><span class="o">=</span><span class="s2">&quot;Good&quot;</span>
<span class="w">            </span><span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$BT_DEC_RSSI</span><span class="s2">&quot;</span><span class="w"> </span>-ge<span class="w"> </span>-80<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">                </span><span class="nv">BT_QUALITY</span><span class="o">=</span><span class="s2">&quot;Fair&quot;</span>
<span class="w">            </span><span class="k">else</span>
<span class="w">                </span><span class="nv">BT_QUALITY</span><span class="o">=</span><span class="s2">&quot;Poor&quot;</span>
<span class="w">            </span><span class="k">fi</span>


<span class="w">            </span><span class="nv">BT_STATUS</span><span class="o">=</span><span class="s2">&quot;Ôäì </span><span class="si">${</span><span class="nv">BT_NAME</span><span class="si">}</span><span class="s2"> (</span><span class="si">${</span><span class="nv">BT_DEC_RSSI</span><span class="si">}</span><span class="s2"> dBm, </span><span class="si">${</span><span class="nv">BT_QUALITY</span><span class="si">}</span><span class="s2">)&quot;</span>
<span class="w">        </span><span class="k">else</span>
<span class="w">            </span><span class="nv">BT_STATUS</span><span class="o">=</span><span class="s2">&quot;Ôäì Disconnected&quot;</span>
<span class="w">        </span><span class="k">fi</span>

<span class="w">        </span><span class="c1"># Set status bar</span>
<span class="w">        </span>xsetroot<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;ÔÄ®  </span><span class="si">${</span><span class="nv">VOL</span><span class="si">}</span><span class="s2">% | Ôá´  </span><span class="si">${</span><span class="nv">WIFI</span><span class="k">:-</span><span class="nv">Disconnected</span><span class="si">}</span><span class="s2"> (</span><span class="si">${</span><span class="nv">SIGNAL</span><span class="k">:-</span><span class="nv">0</span><span class="si">}</span><span class="s2">%) | </span><span class="si">${</span><span class="nv">BT_STATUS</span><span class="si">}</span><span class="s2"> | </span><span class="si">${</span><span class="nv">TIME</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="w">        </span>sleep<span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">done</span>
</code></pre></div>
<h3 id="dmenu">dmenu</h3>
<p>As in [<a href="https://tools.suckless.org/dmenu/">1</a>], dmenu is a dynamic menu for X, originally designed for dwm. It manages large numbers of user-defined menu items efficiently.</p>
<p>The <code>dwm</code> and <code>dmenu</code> packages have the following dependencies on Arch Linux: <code>base-devel git libx11 libxft xorg-server xorg-xinit terminus-font</code> [<a href="https://davidtsadler.com/posts/arch/2020-08-17/installing-st-dmenu-dwm-in-arch-linux/">1</a>]. The fonts are optional. And, the former guide used <code>st</code> but I opted for <code>alacritty</code>.</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>-p<span class="w"> </span>~/.local/src
git<span class="w"> </span>clone<span class="w"> </span>git://git.suckless.org/dmenu<span class="w"> </span>~/.local/src/dmenu
</code></pre></div>
<p>To install <code>dmenu</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/.local/src/dmenu
nvim<span class="w"> </span>config.mk
</code></pre></div>
<p>Edit <code>config.mk</code> to avoid <code>sudo</code> in <code>sudo make install</code>, I modified <code>config.mk</code> by changing the prefix to <code>~/.local</code> [<a href="https://unix.stackexchange.com/questions/20953/difference-between-make-install-and-sudo-make-install">1</a>].</p>
<div class="highlight"><pre><span></span><code># XINERAMALIBS  = -lXinerama
# XINERAMAFLAGS = -DXINERAMA
</code></pre></div>
<p>Compile and install.</p>
<div class="highlight"><pre><span></span><code>make<span class="w"> </span>clean
make<span class="w"> </span>install
</code></pre></div>
<h3 id="conda">conda</h3>
<p>Following [<a href="https://www.anaconda.com/docs/getting-started/miniconda/install#linux">1</a>], the <code>conda</code> installation commands were customised to use a hidden folder within the user's home directory.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Arch Linux &amp; Ubuntu</label><label for="__tabbed_2_2">Windows</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>-p<span class="w"> </span>~/.miniconda3
wget<span class="w"> </span><span class="s2">&quot;https://repo.anaconda.com/miniconda/Miniconda3-latest-</span><span class="k">$(</span>uname<span class="k">)</span><span class="s2">-</span><span class="k">$(</span>uname<span class="w"> </span>-m<span class="k">)</span><span class="s2">.sh&quot;</span><span class="w"> </span>-O<span class="w"> </span>~/.miniconda3/miniconda.sh
bash<span class="w"> </span>~/.miniconda3/miniconda.sh<span class="w"> </span>-u<span class="w"> </span>-p<span class="w"> </span>~/.miniconda3
rm<span class="w"> </span>~/.miniconda3/miniconda.sh
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nb">wget </span><span class="s2">&quot;https://repo.anaconda.com/miniconda/Miniconda3-latest-Windows-x86_64.exe&quot;</span> <span class="n">-outfile</span> <span class="s2">&quot;.\miniconda.exe&quot;</span>
<span class="nb">Start-Process</span> <span class="n">-FilePath</span> <span class="s2">&quot;.\miniconda.exe&quot;</span> <span class="n">-ArgumentList</span> <span class="s2">&quot;/S&quot;</span> <span class="n">-Wait</span>
<span class="nb">del </span><span class="p">.\</span><span class="n">miniconda</span><span class="p">.</span><span class="n">exe</span>
</code></pre></div>
</div>
</div>
</div>
<p>Conda or Anaconda, or Miniconda, or Miniforge, or Mambaforge - package, dependency and environment management for any language---Python, R, Ruby, Lua, Scala, Java, JavaScript, C/ C++, FORTRAN.</p>
<p>In practice, <em>miniforge</em> has problems during the system-wide installation on Windows, hence development was moved back to <em>miniconda</em>. The command below should download a Bash script to a current directory.</p>
<pre><code>curl -L -O "https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh"
</code></pre>
<p>In the past, it was preferred for <em>conda</em> to be installed system-wide, so the following trick below was used to make it work.</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span>clear<span class="w"> </span><span class="p">;</span><span class="w"> </span>sudo<span class="w"> </span>groupadd<span class="w"> </span>conda
<span class="w">    </span>sudo<span class="w"> </span>usermod<span class="w"> </span>-aG<span class="w"> </span>conda<span class="w"> </span><span class="nv">$USER</span>
<span class="w">    </span>newgrp<span class="w"> </span>conda
<span class="w">    </span>sudo<span class="w"> </span>mkdir<span class="w"> </span>/opt/conda/
<span class="w">    </span>sudo<span class="w"> </span>chgrp<span class="w"> </span>conda<span class="w"> </span>/opt/conda/
<span class="w">    </span>sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">2775</span><span class="w"> </span>-R<span class="w"> </span>/opt/conda/
<span class="w">    </span>bash<span class="w"> </span>Miniconda3-latest-<span class="k">$(</span>uname<span class="k">)</span>-<span class="k">$(</span>uname<span class="w"> </span>-m<span class="k">)</span>.sh
</code></pre></div>
<p>That <code>newgrp conda</code> is not a must if it is possible to log out or even better restart. Also, there were situations in the past where <em>miniforge</em> would have problems to update because of the limited number of maximum open files. This can be fixed using the commands below, where the first command is used to view the number of open files, and the second command is used to set the number of open files.</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nb">ulimit</span><span class="w"> </span>-a
<span class="w">    </span><span class="nb">ulimit</span><span class="w"> </span>-n<span class="w"> </span><span class="m">50000</span>
</code></pre></div>
<h3 id="neofetch">neofetch</h3>
<p>Neofetch displays a summary of the system, although it is seldom used. However, it is straightforward to install. Once installed, the command can be executed by name:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Arch Linux</label><label for="__tabbed_3_2">Ubuntu</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>clear<span class="w"> </span><span class="p">;</span><span class="w"> </span>sudo<span class="w"> </span>pacman<span class="w"> </span>--sync<span class="w"> </span>neofetch
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>clear<span class="w"> </span><span class="p">;</span><span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>neofetch
</code></pre></div>
</div>
</div>
</div>
<h3 id="nvim">nvim</h3>
<p>Terminal editors offer a range of options for users. Initially, Nano is often the starting point, followed by an introduction to Vi, then learning Vim and experiencing the complexities of Emacs. Neovim is a popular choice, offering a balanced compromise between various editors. On Ubuntu, it can be installed from the built-in repositories, though this may not provide the latest version. For the latest version, Snap or manual installation can be considered.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Arch Linux</label><label for="__tabbed_4_2">Ubuntu using Snap</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>pacman<span class="w"> </span>--sync<span class="w"> </span>neovim
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>snap<span class="w"> </span>install<span class="w"> </span>neovim<span class="w"> </span>--classic
</code></pre></div>
</div>
</div>
</div>
<p>To set the default editor use one of the following.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Arch Linux</label><label for="__tabbed_5_2">Ubuntu</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Either just in a TTY, shell, or <code>.bashrc</code> [<a href="https://bbs.archlinux.org/viewtopic.php?id=47921">1</a>].</p>
<pre><code>export EDITOR=nano
</code></pre>
</div>
<div class="tabbed-block">
<p>The default editor can be changed so that the <code>edit</code> command selects the appropriate editor. By default, Nano is typically set as the default editor. This can be modified as follows:</p>
<pre><code>sudo update-alternatives --config editor
</code></pre>
<p>A menu will appear with a list of available editors to be set as the system-wide default. Further details can be found <a href="https://askubuntu.com/questions/1211050/default-editor-for-git-set-to-nano-how">here</a>.</p>
</div>
</div>
</div>
<h3 id="oh-my-bash">oh-my-bash</h3>
<p>Customising fonts and making them interactive can be a challenging task. Fortunately, a large community have created scripts to automate the process. On Ubuntu, <em>oh-my-bash</em> is commonly used.</p>
<pre><code>bash -c "$(curl -fsSL https://raw.githubusercontent.com/ohmybash/oh-my-bash/master/tools/install.sh)"
</code></pre>
<p>The script will create a backup of the current <code>.bashrc</code> file. If custom settings are present in the file, they can be appended to the end of the new <code>.bashrc</code> file.</p>
<pre><code>cat ~/.bashrc.omb-* &gt;&gt; ~/.bashrc
</code></pre>
<p>Additionally, the <em>sexy</em> theme is chosen, as it is considered one of the calmer options. However, it does not display the active <em>conda</em> environment. To resolve this, the following commands can be executed:</p>
<pre><code>nvim ~/.oh-my-bash/themes/sexy/sexy.theme.sh
OMB_PROMPT_SHOW_PYTHON_VENV=${OMB_PROMPT_SHOW_PYTHON_VENV:=true}
</code></pre>
<h3 id="visual-studio-code">Visual Studio Code</h3>
<p>Start by downloading <code>*.deb</code> file from the official <a href="https://code.visualstudio.com/docs/?dv=linux64_deb">download page</a>. Once it is downloaded install the application using the following command below.</p>
<pre><code>sudo apt install ./&lt;file&gt;.deb
</code></pre>
<p>Addtionally, I would recommend to remove the microsoft repository from the update list unless we want to update the package. Otherwise, it clutters the <code>apt-get update</code> process taking extra time.</p>
<pre><code>sudo nvim /etc/apt/sources.list.d/vscode.list
</code></pre>
<h3 id="unity-hub-unity">Unity Hub &amp; Unity</h3>
<p>Here is a summary of commands that are need to install Unity Hub.</p>
<pre><code>sudo groupadd unity
sudo mkdir /srv/unity
sudo chgrp unity /srv/unity/
sudo usermod -aG unity $USER
</code></pre>
<p>At this point ideally reboot.</p>
<pre><code>sudo chmod 2775 -R /srv/unity/
</code></pre>
<p>The place where the project files would be stored is done. Now, we would focus on the place where the editor would be installed.</p>
<pre><code>sudo mkdir /opt/unity
sudo chgrp unity /opt/unity/
sudo chmod 2775 -R /opt/unity/
</code></pre>
<p>To install Unity Hub, we, first, setup remote repository and then install it using regular <code>apt-get</code> command.</p>
<pre><code>sudo sh -c 'echo "deb https://hub.unity3d.com/linux/repos/deb stable main" &gt; /etc/apt/sources.list.d/unityhub.list'
wget -qO - https://hub.unity3d.com/linux/keys/public | sudo apt-key add -
sudo apt update
sudo apt-get install unityhub
</code></pre>
<p>This information was gathered from the official <a href="https://docs.unity3d.com/hub/manual/InstallHub.html#install-hub-linux">documentation</a>.</p>
<h3 id="unreal-engine">Unreal Engine</h3>
<p>Setting up the UE game engine:</p>
<pre><code>sudo groupadd ue
sudo mkdir /srv/ue
sudo chgrp ue /srv/ue/
sudo usermod -aG ue $USER
</code></pre>
<p>At this point ideally reboot.</p>
<pre><code>sudo chmod 2775 -R /srv/ue/
</code></pre>
<h3 id="libre-office">Libre Office</h3>
<p>To set up Libre Office 7.4.6, download tarball from official website. Unarchive until we have a folder. Go inside <code>DEBS</code> folder and run the command below.</p>
<pre><code>sudo apt install ./\* command.
</code></pre>
<p>An old way of setting up Libre Office:</p>
<pre><code>sudo apt install libreoffice
</code></pre>
<p>Instructions were taken from <a href="https://linuxhint.com/install-libreoffice-ubuntu-linux-mint">here</a>.</p>
<h3 id="gnome-tweaks">gnome-tweaks</h3>
<blockquote>
<p>:warning: Applicable to Ubuntu GNOME-based installation ONLY!</p>
</blockquote>
<pre><code>sudo apt install gnome-tweaks
</code></pre>
<p>If gnome-tweaks are installed then this will install Net Speed Simplified.</p>
<pre><code>bash -c "$(curl -sL https://git.io/Jk28b)"
</code></pre>
<p><a href="https://github.com/corecoding/Vitals">Here</a>, we will install Vitals. Note, very troublesome. Installed GNOME Shell integrations from Add-ons Firefox, then Vitals would be available.</p>
<h3 id="nvidia-gpu-monitoring">NVIDIA GPU monitoring</h3>
<pre><code>sudo apt install gpustat
sudo apt install nvtop (libnvidia-computer-418 was absent)
sudo apt install nvitop (Apt didn't find the package)
</code></pre>
<h3 id="google-drive">Google Drive:</h3>
<pre><code>sudo add-apt-repository ppa:alessandro-strada/ppa
sudo apt update &amp;&amp; sudo apt install google-drive-ocamlfuse
google-drive-ocamlfuse
mkdir -v ~/GoogleDrive
google-drive-ocamlfuse ~/GoogleDrive
</code></pre>
<p>This is only to test that it all works.</p>
<pre><code>df -h
</code></pre>
<p>Instructions were taken from <a href="https://linuxhint.com/google_drive_installation_ubuntu/">here</a>.</p>
<h3 id="keepass-2">KeePass 2</h3>
<pre><code>sudo apt install keepass2
</code></pre>
<p>Instructions were taken from <a href="https://keepass.info/help/v2/setup.html#mono">here</a>.</p>
<h3 id="ssh-key-generation">SSH Key Generation</h3>
<p>Setting up an SSH key to work with github:</p>
<pre><code>ssh-keygen -t rsa -C "user@mail.com"
</code></pre>
<p>During the prompt, I usually save at the following path.</p>
<pre><code>~/.ssh/couper64.github.com
</code></pre>
<p>The passphrase is usually left empty. Although for added protection it makes sense to create one. Following with the configuration to point <code>git</code> to the right SSH key, I create and edit a <em>config</em> file.</p>
<pre><code>nvim ~/.ssh/config
</code></pre>
<p>I added the settings below.</p>
<pre><code>Host github.com
    IdentityFile ~/.ssh/github.key
    IdentitiesOnly yes
</code></pre>
<p>The following sources were used [<a href="https://stackoverflow.com/questions/4565700/how-to-specify-the-private-ssh-key-to-use-when-executing-shell-command-on-git">1</a>], [<a href="https://www.youtube.com/watch?v=Z3ELWci34cM&amp;list=PLMQHMcNi6octV4IJTr7oAWeEBFgwu5HL8&amp;index=7">2</a>]. The last one shows setting up an SSH key for GitHub.</p>
<h3 id="docker">Docker</h3>
<pre><code>sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
echo \
"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
$(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin
</code></pre>
<p>To run with GPU:</p>
<pre><code>distribution=$(. /etc/os-release;echo $ID$VERSION_ID) \
  &amp;&amp; curl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg \
  &amp;&amp; curl -s -L https://nvidia.github.io/libnvidia-container/$distribution/libnvidia-container.list | \
  sed 's#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g' | \
  sudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.list
  sudo apt-get update
  sudo apt-get install -y nvidia-docker2
  sudo systemctl restart docker
</code></pre>
<p>To build with GPU:</p>
<pre><code>sudo apt-get install nvidia-container-runtime
edit /etc/docker/daemon.json:
  {
  "runtimes": {
      "nvidia": {
          "path": "/usr/bin/nvidia-container-runtime",
          "runtimeArgs": []
       } 
  },
  "default-runtime": "nvidia" 
}
sudo systemctl restart docker
</code></pre>
<p>Post Installation: To let docker run without 'sudo' command.</p>
<pre><code>sudo groupadd docker
sudo usermod -aG docker $USER
newgrp docker # This is just to activate without logging out.
</code></pre>
<p>Notes: After installation <code>/etc/docker/daemon.json</code> was missing, after adding it back then docker couldn't start.</p>
<p>References</p>
<ul>
<li>https://docs.docker.com/engine/install/ubuntu/</li>
<li>https://docs.docker.com/engine/install/linux-postinstall/</li>
<li><a href="https://stackoverflow.com/questions/59691207/docker-build-with-nvidia-runtime">To build with GPU.</a></li>
<li><a href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/install-guide.html">To run with GPU.</a></li>
</ul>
<h3 id="chrome">Chrome:</h3>
<p>Open the Google Chrome browser and set it up. Make it default. Untick the sending statistics to Google checkbox. Proceed to sign into your account(s).</p>
<p>Put the code below inside <code>~/.local/share/applications/*.desktop</code>. Replace Google Chrome profile names accordingly, like Default, Profile 1, Profile 2, etc. And, don't forget to make it executable, i.e. <code>sudo chmod +x *.desktop</code>.</p>
<pre><code>#!/usr/bin/env xdg-open
[Desktop Entry]
Version=1.0
Type=Application
Terminal=false
Icon[en_US]=google-chrome
Exec=google-chrome --profile-directory=YOUR_PROFILE_NAME
Name[en_US]=Chrome-YOUR_PROFILE_NAME
Name=Chrome-YOUR_PROFILE_NAME
Icon=google-chrome
</code></pre>
<p>References</p>
<ul>
<li>https://askubuntu.com/questions/493142/can-i-put-two-chrome-different-users-on-my-launcher</li>
</ul>
<h3 id="chrome-remote-desktop">Chrome Remote Desktop:</h3>
<pre><code>mkdir ~/.config/chrome-remote-desktop
</code></pre>
<p>Follow instructions at <a href="https://remotedesktop.google.com">remotedesktop.google.com</a>.</p>
<p>References</p>
<ul>
<li>https://askubuntu.com/questions/1264418/chrome-remote-desktop-host-setup-instructions-not-showing-for-ubuntu-18-04</li>
<li>https://remotedesktop.google.com/access</li>
<li>https://askubuntu.com/questions/1318473/authentication-required-popup</li>
<li>https://askubuntu.com/questions/552503/stop-asking-for-authentication-to-mount-usb-stick</li>
</ul>
<p>The code below is stored in <code>/etc/polkit-1/localauthority/50-local.d/45-remote-desktop-sanity.pkla</code>. <code>45-remote-desktop-sanity.pkla</code> is custom named with <code>-rw-r--r-- 1 root root</code> file properites.</p>
<pre><code>[Allow Network Manager for Myself]
Identity=unix-user:vlad
Action=org.freedesktop.NetworkManager.*
ResultAny=yes
ResultInactive=yes
ResultActive=yes

[Allow Login, Shutdown, Restart, Etc for Myself]
Identity=unix-user:vlad
Action=org.freedesktop.login1.*
ResultAny=yes
ResultInactive=yes
ResultActive=yes

[Allow Colord all Users]
Identity=unix-user:*
Action=org.freedesktop.color-manager.create-device;org.freedesktop.color-manager.create-profile;org.freedesktop.color-manager.delete-device;org.freedesktop.color-manager.delete-profile;org.freedesktop.color-manager.modify-device;org.freedesktop.color-manager.modify-profile
ResultAny=no
ResultInactive=no
ResultActive=yes

[Allow Package Management all Users]
Identity=unix-user:*
Action=org.freedesktop.packagekit.system-sources-refresh
ResultAny=yes
ResultInactive=yes
ResultActive=yes

[Allow Mounting without Password]
Identity=unix-user:*
Action=org.freedesktop.udisks2.filesystem-mount;org.freedesktop.udisks2.filesystem-mount-other-seat
ResultAny=yes
ResultInactive=yes
ResultActive=yes
</code></pre>
<h3 id="bashrc">.bashrc</h3>
<pre><code>alias ls='LC_COLLATE=C ls --color=auto --group-directories-first --sort=version'
alias ll='ls -lashF'
</code></pre>
<h3 id="net">.NET:</h3>
<pre><code>wget https://packages.microsoft.com/config/ubuntu/20.04/packages-microsoft-prod.deb -O packages-microsoft-prod.deb
sudo dpkg -i packages-microsoft-prod.deb
rm packages-microsoft-prod.deb
</code></pre>
<p>Install SDK (then Runtime is not required):</p>
<pre><code>sudo apt-get update
sudo apt-get install -y dotnet-sdk-6.0
</code></pre>
<p>Install ASP.NET Core Runtime (no SDK, but ASP and .NET):</p>
<pre><code>sudo apt-get update
sudo apt-get install -y aspnetcore-runtime-6.0
</code></pre>
<p>Install .NET Runtime (no SDK, .NET only):</p>
<pre><code>sudo apt-get update
sudo apt-get install -y dotnet-runtime-6.0
</code></pre>
<p>Opt-out .NET telemetry:
    nvim ~/.bashrc
    export DOTNET_CLI_TELEMETRY_OPTOUT=1
    exec bash
    echo $DOTNET_CLI_TELEMETRY_OPTOUT</p>
<p>References</p>
<ul>
<li>https://learn.microsoft.com/en-us/dotnet/core/install/linux-ubuntu#2004</li>
<li>https://stackoverflow.com/questions/39306618/how-do-i-set-the-value-in-a-command-shell-for-dotnet-core</li>
</ul>
<h3 id="monodevelop">monodevelop</h3>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>gnupg<span class="w"> </span>ca-certificates
sudo<span class="w"> </span>apt-key<span class="w"> </span>adv<span class="w"> </span>--keyserver<span class="w"> </span>hkp://keyserver.ubuntu.com:80<span class="w"> </span>--recv-keys<span class="w"> </span>3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;deb [arch=amd64] https://download.mono-project.com/repo/ubuntu stable-focal main&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/apt/sources.list.d/mono-official-stable.list
sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>mono-devel
</code></pre></div>
<p>References</p>
<ul>
<li>https://www.mono-project.com/download/stable/#download-lin</li>
</ul>
<h3 id="ranger">Ranger</h3>
<p>Setting up the Ranger terminal file manager: Ensure conda is installed, either Anaconda, Miniconda, or Miniforge.</p>
<pre><code>sudo apt update; sudo apt install libx11-dev libxtst-dev libjpeg-dev
conda create -n ranger python=3.9.13
conda activate ranger
pip install ranger-fm ueberzug
pip uninstall pillow
CC="cc -mavx2" pip install -U --force-reinstall pillow-simd
ranger --copy-config=all
vim ~/.config/ranger/rc.conf
</code></pre>
<p>Add the following lines.</p>
<pre><code>set preview_images true
set preview_images_method ueberzug
set show_hidden true
</code></pre>
<p>References</p>
<ul>
<li>https://github.com/ranger/ranger</li>
<li>https://github.com/ranger/ranger/wiki/Image-Previews</li>
<li>https://github.com/seebye/ueberzug#installation</li>
<li>https://github.com/uploadcare/pillow-simd</li>
</ul>
<p>Alternative way of setting up the Ranger terminal file manager.</p>
<pre><code>sudo apt install ranger
sudo apt install libx11-dev
sudo apt install libxext-dev
sudo apt install python3-pip
pip install ueberzug
</code></pre>
<h3 id="mkdocs">MkDocs</h3>
<p>Materials that were used to move to MkDocs as portfolio website.</p>
<ul>
<li>https://www.youtube.com/watch?v=xlABhbnNrfI</li>
<li>https://jameswillett.dev/getting-started-with-material-for-mkdocs/</li>
<li>https://github.com/peaceiris/actions-gh-pages?tab=readme-ov-file#getting-started</li>
<li>https://github.com/peaceiris/actions-gh-pages?tab=readme-ov-file#%EF%B8%8F-set-personal-access-token-personal_token</li>
</ul>
<h3 id="utility">Utility</h3>
<pre><code>sudo apt install testdisk
sudo apt install foremost
sudo apt install gparted
</code></pre>
<h3 id="minio">MinIO</h3>
<p>To setup a file storage server for research work, we will setup MinIO on Ubuntu 24.04. For this, we will run a VM using KVM/QEMU. We already set up RAID 5 on the host machine and, simply, created virtual disk using entire available space.</p>
<p>Waiting for Ubuntu to install inside VM...</p>
<p>Used <code>parted</code> command line tool to partition and format the hard drive.</p>
<p>Modified <code>fstab</code> to add automount option. And, used UUID instead of a path because it is more reliable.</p>
<p>Below are commands to run a Docker container of MinIO.</p>
<pre><code>mkdir -p ${HOME}/minio/data

docker run \
-p 9000:9000 \
-p 9001:9001 \
--user $(id -u):$(id -g) \
--name minio1 \
-e "MINIO_ROOT_USER=ROOTUSER" \
-e "MINIO_ROOT_PASSWORD=CHANGEME123" \
-v ${HOME}/minio/data:/data \
quay.io/minio/minio server /data --console-address ":9001"
</code></pre>
<p>References:
* <a href="https://help.ubuntu.com/community/InstallingANewHardDrive">The tutorial I used to setup virtual disk in guest OS.</a></p>
<h3 id="looking-glass">Looking Glass</h3>
<p>Following the documentation in [<a href="https://looking-glass.io/docs/B7">1</a>, <a href="https://gist.github.com/Ruakij/dd40b3d7cacf5d0f196d1116771b6e42">2</a>], the term <strong>host</strong> means the virtual machine, i.e. guest OS. For instance, when the documentation refers to installation of the Looking Glass service on host it means running that installation inside a target virtual machine. The term <strong>client</strong> means running a software from a machine that connects to the virtual machine. An easier approach is to view it from the application perspective rather than virtual machine perspective because from the application point of view the client connects to host to <em>see what's inside</em>.</p>
<p>The structure of the documentation doesn't provide information in a <em>step-by-step</em> format making it hard to follow along. Therefore, the following is a draft order to follow:</p>
<ul>
<li>
<p>Start from the <a href="https://looking-glass.io/docs/B7/requirements/">requirements</a> page. It will explain what software and hardware are needed, e.g. at least two GPUs or the <a href="https://looking-glass.io/docs/B7/ivshmem_kvmfr/">KVMFR module</a>.</p>
</li>
<li>
<p>Proceed to <em>client</em> installation and setup by downloading stable version of source code from the <a href="https://looking-glass.io/downloads">download</a> page and unarchiving it to <code>~/.local/src/</code>.</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>tar<span class="w"> </span>-zxvf<span class="w"> </span>~/Downloads/looking-glass-B7.tar<span class="w"> </span>-C<span class="w"> </span>~/.local/src/
</code></pre></div>
<ul>
<li>
<p>Follow on to the <a href="https://looking-glass.io/docs/B7/build/#installing-build-dependencies">depedency installation</a> page for Debian and Debian-based. For Arch Linux follow instructions on the <a href="https://looking-glass.io/wiki/Installation_on_other_distributions">community maintained wiki</a> page.</p>
<ul>
<li>To check what packages are already installed in the system for the <strong>client build</strong>, the following command was used:</li>
</ul>
<div class="highlight"><pre><span></span><code>pacman<span class="w"> </span>--query<span class="w"> </span>cmake<span class="w"> </span>gcc<span class="w"> </span>libgl<span class="w"> </span>libegl<span class="w"> </span>fontconfig<span class="w"> </span>spice-protocol<span class="w"> </span>make<span class="w"> </span>nettle<span class="w"> </span>pkgconf<span class="w"> </span>binutils<span class="w"> </span>libxi<span class="w"> </span>libxinerama<span class="w"> </span>libxss<span class="w"> </span>libxcursor<span class="w"> </span>libxpresent<span class="w"> </span>libxkbcommon<span class="w"> </span>wayland-protocols<span class="w"> </span>ttf-dejavu<span class="w"> </span>libsamplerate
</code></pre></div>
<ul>
<li>Once the missing packages are determined they are installed using this command:</li>
</ul>
<div class="highlight"><pre><span></span><code>pacman<span class="w"> </span>--sync<span class="w"> </span>--refresh<span class="w"> </span>--sysupgrade<span class="w"> </span>cmake<span class="w"> </span>gcc<span class="w"> </span>libgl<span class="w"> </span>libegl<span class="w"> </span>fontconfig<span class="w"> </span>spice-protocol<span class="w"> </span>make<span class="w"> </span>nettle<span class="w"> </span>pkgconf<span class="w"> </span>binutils<span class="w"> </span>libxi<span class="w"> </span>libxinerama<span class="w"> </span>libxss<span class="w"> </span>libxcursor<span class="w"> </span>libxpresent<span class="w"> </span>libxkbcommon<span class="w"> </span>wayland-protocols<span class="w"> </span>ttf-dejavu<span class="w"> </span>libsamplerate
</code></pre></div>
<ul>
<li>To check what packages are already installed in the system for the <strong>kernel module build</strong>, the following command was used:</li>
</ul>
<div class="highlight"><pre><span></span><code>pacman<span class="w"> </span>--query<span class="w"> </span>dkms<span class="w"> </span>linux-headers
</code></pre></div>
<ul>
<li>Once the missing packages are determined they are installed using this command:</li>
</ul>
<div class="highlight"><pre><span></span><code>pacman<span class="w"> </span>--sync<span class="w"> </span>--refresh<span class="w"> </span>--sysupgrade<span class="w"> </span>dkms<span class="w"> </span>linux-headers
</code></pre></div>
</li>
<li>
<p>Follow instructions on the <a href="https://looking-glass.io/docs/B7/build/#client-building">building</a> page.</p>
</li>
<li>
<p>Once built, use this <a href="https://looking-glass.io/docs/B7/install_client/">installation</a> instructions for the local user only.</p>
</li>
<li>
<p>Follow the <a href="https://looking-glass.io/docs/B7/install_libvirt/#determining-memory">memory determining</a> page and then the <a href="https://looking-glass.io/docs/B7/ivshmem_kvmfr/">IVSHMEM with the KVMFR module</a> page.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>module/</code> folder is located inside the <em>client</em> source code, e.g. <code>~/.local/src/looking-glass-B7/module/</code>.</p>
</div>
<ul>
<li>
<p>Follow <a href="https://looking-glass.io/docs/B7/install_libvirt/#keyboard-mouse-display-audio">keyboard/mouse/display/audio</a>, <a href="https://looking-glass.io/docs/B7/install_libvirt/#clipboard-synchronization">clipboard synchronization</a>, <a href="https://looking-glass.io/docs/B7/install_libvirt/#memballoon">memballoon</a>, and <a href="https://looking-glass.io/docs/B7/install_libvirt/#additional-tuning">additional tuning</a>.</p>
</li>
<li>
<p>Now, switch to the <em>host</em> and download the executable from the <a href="https://looking-glass.io/downloads">download</a> page and follow <a href="https://looking-glass.io/docs/B7/install_host/#installing-the-looking-glass-service">installing the Looking Glass service</a>.</p>
</li>
<li>
<p>Finally, switch back to the <em>client</em> and run it using the <a href="https://looking-glass.io/docs/B7/usage/">usage</a> instructions.</p>
</li>
</ul>
<h2 id="development-techniques">Development Techniques</h2>
<h3 id="remote-desktop">Remote Desktop</h3>
<p>Remotely accessing desktops is a simple concept, but very cumbursome on practice. There are a lot of paid solutions such as AnyDesk, TeamViewer, ZeroTier, etc. However, ideally, we want a self-hosted solution, so that we could run it indefinitely without heavy reliance on third party developers. There we could consider open source solutions like RustDesk &amp; RustDesk Server software, xrdp, freerdp, etc. Futhermore, we can consider software such as Guacamole. Unfortunately, all of the software has thair strong and not so strong sides. In fact, practically, I find Google Chrome Remote Desktop to be the easiest software to deal with, although, personally, I am not a big fun of it. Historically, Google Chrome Remote Desktop was the easiest to install, and when I came to my work, everyone would understand it. For example, I could say: "Oh, just use Chrome Remote Desktop", and my colleagues would get it without any further explanation. Convenient, isn't it.</p>
<p>Anyhow, it is time to step forward, we are acquiring new equipment, and I am going to setup a complex system with ability to give remote access to our equipment on demand whenever and wherever I am situated. For this, I have continued my experiments with various remote-desktop-software, and, here, I will document some of my findings. Starting from RustDesk. First of all, I found that for self-hosting, we need to use a pair of programs, RustDesk as a client, and RustDesk Server as a server applications. I set the server application on an AWS EC2 instance, what was relatively easy. And, following guidelines I found on the internet, I shared the ID, Relay Server, and Key with the client app. It all seemed to be working on the first day, but, on the second day, it would fail to connect to the server on my Windows machine, but wouldn't fail on my Linux machine. Also, I had to use xrdp instead of built-in gnome remote desktop on Ubuntu 24.04 because it wouldn't work the way I want it to causing me black screens.</p>
<p align="center">
  <img src="https://media.tenor.com/GyDrUFcBvL4AAAAM/guacamole-dance.gif" />
</p>

<p>Eventually, I stumbled upon Guacamole, following guidelines on the internet, I installed it natively on the Ubuntu 24.04. Notably, Ubuntu 24.04 doesn't provide Tomcat 9 because they moved forward to Tomcat 10. However, Guacamole doesn't like Tomcat 10, but it has not problems with Tomcat 9. To solve this problem, I had to download files directly from the Tomcat website. Luckily, installation was straight forward. The reason I didn't go with the version 10 was because Guacamole didn't support that version at that time. Not sure how it is like now. Furtermore, marrying Guacamole version 1.5.5 with gnome remote desktop was impossible. Apparently, there is a bug related with that version of Guacamole. Again, to solve this problem, I had to clone the official mirror repository of Guacamole on GitHub. After this, it seemed to be working, fingers crossed...</p>
<p>To install Guacamole server-side service, start by installing dependencies:</p>
<pre><code>sudo apt install build-essential libcairo2-dev libjpeg-turbo8-dev \
    libpng-dev libtool-bin libossp-uuid-dev libvncserver-dev \
    freerdp2-dev libssh2-1-dev libtelnet-dev libwebsockets-dev \
    libpulse-dev libvorbis-dev libwebp-dev libssl-dev \
    libpango1.0-dev libswscale-dev libavcodec-dev libavutil-dev \
    libavformat-dev
</code></pre>
<p>Then, install server-side service.</p>
<pre><code>git clone https://github.com/apache/guacamole-server
cd guacamole-server
autoreconf -fi
sudo ./configure --with-init-dir=/etc/init.d --enable-allow-freerdp-snapshots
sudo make
sudo make install
</code></pre>
<p>After installation of the service, I continued to configuring the service.</p>
<pre><code>sudo ldconfig
sudo systemctl daemon-reload
sudo systemctl start guacd
sudo systemctl enable guacd
</code></pre>
<p>As a rule of thumb, I also checked the status of the service.</p>
<pre><code>sudo systemctl status guacd
</code></pre>
<p>This I just followed the guide as I had no problems with creating folders at this stage either.</p>
<pre><code>sudo mkdir -p /etc/guacamole/{extensions,lib}
</code></pre>
<p>From now on, I focused on Tomcat 9.</p>
<pre><code>sudo apt install openjdk-17-jdk
sudo useradd -m -U -d /opt/tomcat -s /bin/false tomcat
sudo wget https://downloads.apache.org/tomcat/tomcat-9/v9.0.96/bin/apache-tomcat-9.0.96.tar.gz -P /tmp
sudo tar -xvf /tmp/apache-tomcat-9.0.96.tar.gz -C /opt/tomcat
sudo chown -R tomcat:tomcat /opt/tomcat
</code></pre>
<p>Tomcat is installed, we proceed to configure it.</p>
<pre><code>cd /etc/systemd/system
sudo nvim tomcat.service
</code></pre>
<p>Once I created the file, I paste in the following configuration.</p>
<pre><code>[Unit]
Description=Tomcat Server
After=network.target

[Service]
Type=forking
User=tomcat
Group=tomcat
Environment="JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64"
WorkingDirectory=/opt/tomcat/apache-tomcat-9.0.96
ExecStart=/opt/tomcat/apache-tomcat-9.0.96/bin/startup.sh

[Install]
WantedBy=multi-user.target
</code></pre>
<p>Restarting services to let it pick up the changes won't hurt at this stage.</p>
<pre><code>sudo systemctl daemon-reload
sudo systemctl start tomcat
sudo systemctl enable tomcat
</code></pre>
<p>At this point, if I access the service at port 8080, it should render a page saying all is working. Now, I can focus my attention on Guacamole Web App client.</p>
<pre><code>sudo wget https://downloads.apache.org/guacamole/1.5.5/binary/guacamole-1.5.5.war
sudo mv guacamole-1.5.5.war /opt/tomcat/apache-tomcat-9.0.96/webapps/guacamole.war
sudo systemctl restart tomcat guacd
</code></pre>
<p>This is a <strong><em>"production-ready"</em></strong> approach, so we use a database for user authentication instead of a simple XML-file as was documented in the official manual.</p>
<pre><code>sudo apt install mariadb-server -y
sudo mysql_secure_installation
</code></pre>
<p>As a note, I didn't use unix_sockets, but a regular password. The rest I left at default arguments. Next, the guide was suggesting to download an older version of a MySQL/J connector (v8.0.26), but I felt brave, and download the latest version 9.1.0. The download procedure was different for me for some reason. I had to manually download file from the website.</p>
<pre><code>sudo apt install ./mysql-connector-j_9.1.0-1ubuntu24.04_all.deb
sudo cp /usr/share/java/mysql-connector-j-9.1.0.jar /etc/guacamole/lib/
</code></pre>
<p>Next, I focused on the Apache Guacamole JDBC AUTH plugin.</p>
<pre><code>sudo wget https://downloads.apache.org/guacamole/1.5.5/binary/guacamole-auth-jdbc-1.5.5.tar.gz
sudo tar -xf guacamole-auth-jdbc-1.5.5.tar.gz
sudo mv guacamole-auth-jdbc-1.5.5/mysql/guacamole-auth-jdbc-mysql-1.5.5.jar /etc/guacamole/extensions/
</code></pre>
<p>Now, it is time to configure our database.</p>
<pre><code>sudo mysql -u root -p
</code></pre>
<p>These are the commands inside MariaDB.</p>
<pre><code>MariaDB [(none)]&gt; CREATE DATABASE guac_db;
MariaDB [(none)]&gt; CREATE USER 'guac_user'@'localhost' IDENTIFIED BY 'password';
MariaDB [(none)]&gt; GRANT SELECT,INSERT,UPDATE,DELETE ON guac_db.* TO 'guac_user'@'localhost';
MariaDB [(none)]&gt; FLUSH PRIVILEGES;
MariaDB [(none)]&gt; EXIT;
</code></pre>
<p>After, we want to apply a schema.</p>
<pre><code>cd guacamole-auth-jdbc-1.5.5/mysql/schema
cat *.sql | mysql -u root -p guac_db
</code></pre>
<p>Next, we should tell Guacamole how it should handle user data. We create a simple properties file.</p>
<pre><code>sudo nvim /etc/guacamole/guacamole.properties
</code></pre>
<p>And, populate it with the configuration below.</p>
<pre><code># MySQL properties
mysql-hostname: 127.0.0.1
mysql-port: 3306
mysql-database: guac_db
mysql-username: guac_user
mysql-password: password
</code></pre>
<p>Restart all relevant services.</p>
<pre><code>sudo systemctl restart tomcat guacd mysql
</code></pre>
<p>Now, the service should be accessible at port <code>8080/guacamole</code>, and default login and password should be <code>guacadmin</code>. At this point, it is strongly recommended to create a new admin user and password and delete the default credentials. To do this, from the <strong>guacadmin profile</strong> click on <strong>Settings</strong>. Under the <strong>Edit User</strong> section, enter your new username and password. Then, under the <strong>Permissions</strong> section check the all boxes. When you are done, click <strong>Save</strong>. Now log out from the default user and log in back to Apache Guacamole with your new user created. Then, navigate to the settings, and users tab, and <strong>delete the guacadmin user</strong>. That‚Äôs it, you are done. From there, you can securely access your servers and computers.</p>
<p>References:</p>
<ul>
<li><a href="https://medium.com/@anshumaansingh10jan/unlocking-remote-access-a-comprehensive-guide-to-installing-and-configuring-apache-guacamole-on-30a4fd227fcd">Guide to install Guacamole server program</a></li>
<li><a href="https://www.fosstechnix.com/how-to-install-tomcat-on-ubuntu-24-04-lts/">Guide to install Tomcat 9 on Ubuntu 24.04</a></li>
<li><a href="https://discourse.gnome.org/t/gnome-remote-desktop-rdp-problem-with-apache-guacamole/20703/4">Here I found how to build Guacamole from GitHub repository</a></li>
<li><a href="https://github.com/apache/guacamole-server">This is the mirror repository of Apache Guacamole on GitHub</a></li>
<li><a href="https://dev.mysql.com/downloads/connector/j/">The website where I download MySQL/J connector</a></li>
</ul>
<h3 id="virtualisation">Virtualisation</h3>
<p>When working with VirtualBox, to enable bridge network, it is a simple matter of changing networking adapter in the settings of the progam to bridge adapter with the real ethernet adapter selected below. However, VirtualBox doesn't let us do hardware passthrough or, at least, I didn't find a definite answer to this on the internet. Otherwise, VirtualBox is a very useful piece of software that I use from time to time to experiment with various OS and new software.</p>
<p>Moving to QEMU/KVM, to allow virtual machines to connect to outside world the host's network should be reconfigured. The <code>swtpm</code> package is reponsible for TPM emulation. I used it to satisfy Windows 11 installation requirement. The <code>virtiofsd</code> package is needed to share folders between the host and guests. The guides at [<a href="https://www.debugpoint.com/kvm-share-folder-windows-guest/">1</a>, <a href="https://www.debugpoint.com/share-folder-virt-manager/">2</a>, <a href="https://askubuntu.com/questions/1498317/trying-to-share-a-directory-that-is-located-in-another-hard-drive-connected-to">3</a>] suggested to install WinFSP on Windows and enable Virtio FS service. However, I had compatibility issues installing <code>virtio-win-tools</code>. They were disabling my mouse. Instead, I manually applied the driver in Device Manager by right-clicking on it and selecting <em>Update driver</em> option. As for the service, I manually recreated the path to the executable and copied it from the <code>virtio-win</code> CD-ROM, e.g. <code>virtiofsd.exe</code> and <code>virtiofsd.pdb</code>. The following commands were used to create the service.</p>
<pre><code>sc create VirtioFsSvc binpath="C:\Program Files\Virtio-Win\VioFS\virtiofs.exe" start=auto depend="WinFsp.Launcher/VirtioFsDrv" DisplayName="Virtio FS Service"
sc start VirtioFsSvc
</code></pre>
<p>Experimentally, I have found that I don't have to install <code>edk2-ovmf</code> on Ubuntu because I could choose Secure Boot in <code>virt-manager</code> without it. However, on Arch Linux, it seems necessarily. To install QEMU/KVM with Virtual Manager to the following:</p>
<pre><code>sudo apt install qemu-kvm libvirt-daemon libvirt-daemon-system bridge-utils virt-manager swtpm virtiofsd
</code></pre>
<p>Usually, on Ubuntu 24.04.1, user is already part of <code>libvirt</code>, so we just need to add the user to the <code>kvm</code> group.</p>
<pre><code>sudo adduser $USER kvm
</code></pre>
<p>Once the user is added to the groups, I would suggest rebooting. After reboot, we can check if the installation is correct by checking if there are any virtual machines on the system.</p>
<pre><code>sudo virsh list --all
</code></pre>
<p>Or, we can check status of the <code>libvirt</code> daemon.</p>
<pre><code>sudo systemctl status libvirtd
</code></pre>
<p>Then, we can create bridge interface. Although, the default <em>NAT</em> allows VMs to communicate with the host and each other. And, through port forwarding on the host, we can expose the VMs to the outside world.</p>
<pre><code>nmcli con show
nmcli con add ifname br0 type bridge con-name br0
nmcli con add type bridge-slave ifname eth0 master br0
nmcli con mod br0 bridge.stp no
nmcli con down eth0
nmcli con up br0
nmcli device show
sudo systemctl restart NetworkManager.service
</code></pre>
<p>Although, creating bridges seems to be the most logical approach, sometimes, we can't use them. Therefore, port forwarding seems to be a viable alternative. Here is how to forward ports from host physical interface to virtual interface where the guest VMs reside.</p>
<pre><code>iptables -t nat -I PREROUTING -p tcp -d HOST_IP --dport HOST_PORT -j DNAT --to-destination GUEST_IP:GUEST_PORT
iptables -I FORWARD -m state -d GUEST_IP/24 --state NEW,RELATED,ESTABLISHED -j ACCEPT
</code></pre>
<p>For now, I am using <code>iptables-persistent</code> to save/reload port forwarding rules between reboots.</p>
<pre><code>sudo apt install iptables-persistent
</code></pre>
<p>The location is saves the rules in is <code>/etc/iptables/rules.v4</code> and <code>/etc/iptables/rules.v6</code>. To save the rules and load them, I use the following commands. I had to wrap it around as a command for a bash because I need elevated privilages on both piping as well as saving commands.</p>
<pre><code>sudo bash -c "iptables-save &gt; /etc/iptables/rules.v4"
</code></pre>
<p>To setup static IP inside guest VM, we need to modify the <em>netplan</em> configuration file for the <em>NetworkManager</em> service.</p>
<pre><code>network:
    version: 2
    renderer: NetworkManager
    ethernets:
        INTERFACE_NAME:
            dhcp4: false
            addresses:
                - STATIC_IP/24
            routes:
                - to: default
                 via: HOST_IP
            nameservers:
                addresses: [HOST_IP]
</code></pre>
<p>For example, <code>INTERFACE_NAME=eth0</code>, <code>STATIC_IP=192.168.1.100</code>, <code>HOST_IP=192.168.1.1</code>. Save the aforementioned in the <code>/etc/netplan/01-network-manager-all.yaml</code> file. And, apply the plan.</p>
<pre><code>sudo chmod 700 /etc/netplan/01-network-manager-all.yaml
sudo netplan try
</code></pre>
<p>Then, we setup KVM to allow guest VMs to use bridge interface. Start from creating a file in an arbitrary location on the computer and name it <code>host-birdge.xml</code>.</p>
<pre><code>&lt;network&gt;
    &lt;name&gt;host-bridge&lt;/name&gt;
    &lt;forward mode="bridge"/&gt;
    &lt;bridge name="br0"/&gt;
&lt;/network&gt;
</code></pre>
<p>Then execute these commands (as a user in the libvirt group):</p>
<pre><code>virsh net-define host-bridge.xml
virsh net-start host-bridge
virsh net-autostart host-bridge
</code></pre>
<p>A mechanism to allow connections from outside.</p>
<pre><code>sudo modprobe br_netfilter
sudo echo "br_netfilter" &gt; /etc/modules-load.d/br_netfilter.conf
</code></pre>
<p>Create /etc/sysctl.d/10-bridge.conf.</p>
<pre><code># Do not filter packets crossing a bridge
net.bridge.bridge-nf-call-ip6tables=0
net.bridge.bridge-nf-call-iptables=0
net.bridge.bridge-nf-call-arptables=0
</code></pre>
<p>Apply and check the config.</p>
<pre><code>sudo sysctl -p /etc/sysctl.d/10-bridge.conf
sudo sysctl -a | grep "bridge-nf-call"
</code></pre>
<p>Configure the guest to use host-bridge. Open up the Virtual Machine Manager and then select the target guest. Go to the NIC device. The drop down for "Network Source" should now include a device called "Virtual netowrk 'host-bridge'". The "Bridge network device model" will be "virtio" if that's your KVM configuration's default. Select that "host-bridge" device.</p>
<p>Useful commands:</p>
<p>A command to set automatic start of VMs when host boots up.</p>
<pre><code>virsh autostart &lt;vm-name&gt;
</code></pre>
<p>A command to undo automatic start of VMs when host boots up.</p>
<pre><code>virsh autostart --disable &lt;vm-name&gt;
</code></pre>
<p>A command to set automatic start of the Docker containers when host boots up.</p>
<pre><code>docker update --restart unless-stopped &lt;container-name&gt;
</code></pre>
<p>A command to undo automatic start of the Docker containers when host boots up.</p>
<pre><code>docker update --restart no &lt;container_name_or_id&gt;
</code></pre>
<p>Alternative to <code>iptables</code> could be <code>nginx</code></p>
<p>It is possible to configure <code>nginx</code> as a reverse proxy server on a host machine. That way, all traffic could be forwarded to an appropriate guest machine. Furthermore, using OpenResty with Lua, it is possible to configure it to pull forwarding rules from a database like MySQL, PostgreSQL, etc. Building on top, a FastAPI server would update the rules via a simple REST API endpoint. At the end, a user-oriented web application could be developed using Rest.js, Vue.js, or AngularJS. That would constitute a fully automated user-friendly system for host-guest VM management.</p>
<p>References:
* <a href="https://gist.github.com/plembo/f7abd2d9b6f76e7afdece02dae7e5097">Guide to add a bridge interface to the Ubuntu desktop using <em>nmcli</em></a>
* <a href="https://gist.github.com/frjaraur/7bad30cedc484486efd3ba5d12362bec">Another guide to add a bridge interface that helped to understand how to set dynamic IP instead of static</a>
* <a href="https://gist.github.com/plembo/a7b69f92953a76ab2d06533754b5e2bb">Guide to setup a bridged network for KVM guests</a>
* <a href="https://www.dzombak.com/blog/2024/02/Setting-up-KVM-virtual-machines-using-a-bridged-network.html">Another useful guide, this is where I started my research from</a>
* <a href="https://absprog.com/post/qemu-kvm-ubuntu-24-04">1/3 of QEMU/KVM Ubuntu 24.04 installation instructions I used</a>
* <a href="https://www.server-world.info/en/note?os=Ubuntu_24.04&amp;p=kvm&amp;f=1">2/3 of QEMU/KVM Ubuntu 24.04 installation instructions I used</a>
* <a href="https://phoenixnap.com/kb/ubuntu-install-kvm">3/3 of QEMU/KVM Ubuntu 24.04 installation instructions I used</a>
* <a href="https://askubuntu.com/questions/720207/port-forwarding-between-bridged-interfaces">1/3 of port forwarding instructions I used</a>
* <a href="https://ubuntuforums.org/showthread.php?t=2261173&amp;p=13210545#post13210545">2/3 of port forwarding instructions I used</a>
* <a href="https://serverfault.com/questions/913246/forward-traffic-from-port-22-to-virtual-computer-on-ubuntu">3/3 of port forwarding instructions I used</a>
* <a href="https://www.freecodecamp.org/news/setting-a-static-ip-in-ubuntu-linux-ip-address-tutorial/">1/2 of setting static IP using netplan and NetworkManager</a>
* <a href="https://linuxconfig.org/setting-a-static-ip-address-in-ubuntu-24-04-via-the-command-line">2/2 of setting static IP using netplan and NetworkManager</a></p>
<h3 id="gpu-passthrough">GPU Passthrough</h3>
<p>I decided to make it into a separate section because this task is complex enough on its own.</p>
<p>The following command can tell what kernel driver is in use.</p>
<pre><code>lspci | grep ' VGA ' | cut -d" " -f 1 | xargs -i lspci -v -s {}
</code></pre>
<p>The output should look something like this.</p>
<pre><code>bd:00.0 VGA compatible controller: NVIDIA Corporation GA102GL [RTX A6000] (rev a1) (prog-if 00 [VGA controller])
    Subsystem: NVIDIA Corporation GA102GL [RTX A6000]
    Physical Slot: 7
    Flags: bus master, fast devsel, latency 0, IRQ 439, NUMA node 1, IOMMU group 30
    Memory at e9000000 (32-bit, non-prefetchable) [size=16M]
    Memory at 22bfe0000000 (64-bit, prefetchable) [size=256M]
    Memory at 22bff0000000 (64-bit, prefetchable) [size=32M]
    I/O ports at d000 [size=128]
    Expansion ROM at ea000000 [virtual] [disabled] [size=512K]
    Capabilities: &lt;access denied&gt;
    Kernel driver in use: nvidia
    Kernel modules: nvidiafb, nouveau, nvidia_drm, nvidia
</code></pre>
<p>For a successful GPU passthrough, I installed Ubuntu 24.04.1 without NVIDIA drivers using only <em>nouveau</em>.</p>
<p>Modify <em>grub</em>.</p>
<pre><code>sudo nvim /etc/default/grub
</code></pre>
<p>Make it look like this.</p>
<pre><code>GRUB_CMDLINE_LINUX_DEFAULT="quiet splash intel_iommu=on iommu=pt"
</code></pre>
<p>Save the changes, and update grub to apply the changes. Following with a reboot.</p>
<pre><code>sudo update-grub
</code></pre>
<p>Blacklist the GPUs by creating a configuration file.</p>
<pre><code>sudo nvim /etc/modprobe.d/gpu-passthrough-blacklist.conf
</code></pre>
<p>Make it look like this.</p>
<pre><code>blacklist nouveau
blacklist snd_hda_intel
</code></pre>
<p>Bind GPUs to VFIO by creating another configuration file.</p>
<pre><code>sudo nvim /etc/modprobe.d/vfio.conf
</code></pre>
<p>Make it look like this.</p>
<pre><code>options vfio-pci ids=XXXX:XXXX,YYYY:YYYY
</code></pre>
<p><code>XXXX:XXXX,YYYY:YYYY</code> are model ids found by using the <code>lspci -nnk | grep -e NVIDIA</code> command. The ids are located at the end of the line. Shortly after, save and apply the changes.</p>
<pre><code>sudo update-initramfs -u
</code></pre>
<p>Example</p>
<p>Installing Ubuntu 24.04.1 from a USB flash drive. A standard procedure, however, on the step where it asks to isntall third-party drivers, we leave the checkbox empty. The "Download and install support for additional media formats" was greyed out because the machine didn't have access to the internet. The goal is to ensure that the GPUs wouldn't be used by the host system but rather on-demand by guest VMs.</p>
<p>The system has failed to boot on the first try. Rebooted, but the screen was black. Switched to tty3 and enabled Xorg suppport in the <code>gdm3</code> configuration file. Rebooted and logged in. The welcome page has been through, and connection to the internet was done via Wi-Fi.</p>
<p>Given the access to the WWW, the system was updated and upgraded. Notebly, the connection was very slow, i.e. it took around 30 minutes to complete the task. It prompted me to restart, we went with "Restart later" and then manually restarted. Enabled RDP and SSH.</p>
<p>Followed instructions to perform <a href="#ubuntu">initial configuration</a>. Skipped <code>build-essential</code>, <code>ubuntu-restricted-extras</code>, <code>ffmpeg</code>, <code>fonts-powerline</code>, <code>gstreamer</code>, and <code>wget</code>. Proceeded with <a href="#virtualisation">the Virtualisation instructions</a>. It is very important to skip the <code>sudo apt upgrade</code> because it changes some of the packages that make <em>gdm3</em> fail to start when blacklisting <em>nouveau</em>! That was a big issue and it took me two days to narrow it down to this point. As it wasn't neccessary to upgrade, I left it at this stage.</p>
<pre><code>gpu0/gpuall SSH will be available at 192.168.122.100:221.
            RDP will be available at 192.168.122.100:33891.

gpu1/gpuduo1 SSH will be available at 192.168.122.101:221.
             RDP will be available at 192.168.122.101:33891.

gpu2/gputrio SSH will be available at 192.168.122.102:221.
             RDP will be available at 192.168.122.102:33891.

gpu3/gpuduo2 SSH will be available at 192.168.122.103:221.
             RDP will be available at 192.168.122.103:33891.

fileserver SSH will be available at 192.168.122.104:221.
           RDP will be available at 192.168.122.104:33891.
           MinIO will be available at 192.168.122.104:9000.
           MinIO Dashboard will be available at 192.168.122.104:9001.
</code></pre>
<p>References:
* <a href="https://github.com/bryansteiner/gpu-passthrough-tutorial">A guide to setup GPU passthrough</a>
* <a href="https://github.com/aaronanderson/LinuxVMWindowsSteamVR">A guide to setup GPU passthrough</a>
* <a href="https://github.com/cosminmocan/vfio-single-amdgpu-passthrough">A guide to setup GPU passthrough</a>
* <a href="https://askubuntu.com/questions/5417/how-to-get-the-gpu-info">How to lspci to check GPU kernel driver in use</a>
* <a href="https://askubuntu.com/questions/1523096/single-gpu-passthrough-on-24-04-nothing-happens-when-starting-vm">The comment in this link was intriguing</a>
* <a href="https://gitlab.com/risingprismtv/single-gpu-passthrough/-/wikis/home">1/2 of the guide the comment was referring to</a>
* <a href="https://github.com/ilayna/Single-GPU-passthrough-amd-nvidia?tab=readme-ov-file">2/2 of the guide the comment was referring to</a></p>
<h3 id="gpu-passthrough-for-arch">GPU Passthrough for Arch</h3>
<p>A simple Bash script that will give you all the valuable IOMMU information, e.g. <code>10de:2882</code> or <code>10de:22be</code>. The script is available at <code>project/dotfiles/.local/bin/iommu</code> and I usually install it at <code>~/.local/bin/iommu</code>.</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="c1">#!/bin/bash</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span>d<span class="w"> </span><span class="k">in</span><span class="w"> </span>/sys/kernel/iommu_groups/*/devices/*<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">        </span><span class="nv">n</span><span class="o">=</span><span class="si">${</span><span class="nv">d</span><span class="p">#*/iommu_groups/*</span><span class="si">}</span><span class="p">;</span><span class="w"> </span><span class="nv">n</span><span class="o">=</span><span class="si">${</span><span class="nv">n</span><span class="p">%%/*</span><span class="si">}</span>
<span class="w">        </span><span class="nb">printf</span><span class="w"> </span><span class="s1">&#39;IOMMU Group %s &#39;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$n</span><span class="s2">&quot;</span>
<span class="w">        </span>lspci<span class="w"> </span>-nns<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">d</span><span class="p">##*/</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">done</span>
</code></pre></div>
<p>The guide [<a href="https://dividebyzer0.gitlab.io/GPUpassthrough.html">1</a>, <a href="https://qqq.ninja/blog/post/vfio-on-arch/">2</a>, <a href="https://askubuntu.com/questions/1036297/cant-start-kvm-guest-network-default-is-not-active">3</a>] has mentioned ACS kernel patch, which allows the system to split the hardware devices into separate IOMMU groups. What in turn should provide higher granularity over the devices we want to pass through. I skipped this step.</p>
<p>Modifed <code>/etc/default/grub</code> by adding the following to <code>GRUB_CMDLINE_LINUX_DEFAULT</code>.</p>
<pre><code>amd_iommu=on iommu=pt vfio-pci.ids=10de:21c4,10de:1aeb
</code></pre>
<p>Once you've got all these options set, go ahead commit the changes. And, reboot.</p>
<pre><code>sudo grub-mkconfig -o /boot/grub/grub.cfg
</code></pre>
<p>After reboot, the output of <code>dmesg | grep vfio</code> indicated that the <code>vfio</code> module wasn't loaded during the boot. Logically, the selected PCI devices weren't used by <code>vfio</code> drivers. To circum nagivate this behaviour, I had to modify <code>/etc/mkinitcpio.conf</code> file.</p>
<p>UPDATE: it seems like <code>vfio_virqfd</code> module is built in <code>vfio</code> [<a href="https://www.reddit.com/r/archlinux/comments/11dqiy5/vfio_virqfd_missing_in_linux621arch11/">1</a>]. Logically, I removed it from the <code>MODULES</code> list.</p>
<pre><code>MODULES=(vfio_pci vfio vfio_iommu_type1)
</code></pre>
<p>I saved the file, and ran the following.</p>
<pre><code>sudo mkinitcpio -p linux
</code></pre>
<p>The following command installed the required software to create a VM. The core are <code>qemu libvirt</code>. However, I use <code>virt-manager</code> GUI for easier management. The <code>dmidecode</code> package is one of the dependencies that is needed by <code>virt-manager</code>, I think. I know that somewhere along the journey, it would try to create a network which would use <code>dnsmasq</code>. The <code>edk2-ovmf</code> package is a UEFI firmware for virtual machines based on EDK II (EFI Development Kit). The <code>swtpm</code> package is needed to bypass TMP 2.0 requirement by Windows 10/11. When prompted, I selected the third option: <em>qemu-full</em>.</p>
<pre><code>sudo pacman --sync qemu libvirt virt-manager edk2-ovmf dnsmasq dmidecode swtpm
</code></pre>
<p>Start the <em>libvirt</em> daemon.</p>
<pre><code>sudo systemctl enable --now libvirtd
sudo systemctl enable --now virtlogd.socket
</code></pre>
<p>Activate the default network and make it persistent between bootings.</p>
<pre><code>sudo virsh net-start default
sudo virsh net-autostart default
</code></pre>
<p>Either use <em>polkit</em> with <em>polkit-gnome</em> or add to the <code>libvirt</code> group.</p>
<pre><code>sudo usermod -aG libvirt $USER
</code></pre>
<h3 id="new-way-to-passthrough-a-gpu">New Way to Passthrough a GPU</h3>
<p>Enable IOMMU [<a href="https://en.wikipedia.org/wiki/Input%E2%80%93output_memory_management_unit">1</a>] in <code>/etc/default/grub</code>. Both Arch and Ubuntu will have this file if the installed OS uses GRUB to boot.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">Method 1</label><label for="__tabbed_6_2">Method 2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">Intel</label><label for="__tabbed_7_2">AMD</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nv">GRUB_CMDLINE_LINUX_DEFAULT</span><span class="o">=</span><span class="s2">&quot;quiet splash intel_iommu=on iommu=pt&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nv">GRUB_CMDLINE_LINUX_DEFAULT</span><span class="o">=</span><span class="s2">&quot;quiet splash amd_iommu=on iommu=pt&quot;</span>
</code></pre></div>
</div>
</div>
</div>
</div>
<div class="tabbed-block">
<p>This tells the system: <em>"Any device with PCI vendor:device ID matching 10de:1111 or 10de:1112 should be bound to <code>vfio-pci</code>."</em> </p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">Intel</label><label for="__tabbed_8_2">AMD</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nv">GRUB_CMDLINE_LINUX_DEFAULT</span><span class="o">=</span><span class="s2">&quot;quiet splash intel_iommu=on iommu=pt vfio-pci.ids=10de:2882,10de:22be&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nv">GRUB_CMDLINE_LINUX_DEFAULT</span><span class="o">=</span><span class="s2">&quot;quiet splash amd_iommu=on iommu=pt vfio-pci.ids=10de:2882,10de:22be&quot;</span>
</code></pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Why the first method is better than the second method? Well, imagine the following situation.</p>
<ul>
<li><code>gpu1</code>: 10de:1111,10de:1112</li>
<li><code>gpu2</code>: 10de:1111,10de:1112</li>
<li><code>gpu3</code>: 10de:2221,10de:1112</li>
</ul>
<p>We would like to pass <code>gpu1</code> and <code>gpu2</code> that share the same IDs to <code>vfio-ci</code>, and <code>gpu3</code> should be untouched. Here's where it gets tricky, if <strong>gpu3 also includes components (like audio controllers)</strong> that share the same PCI IDs as those listed (e.g., 10de:1111 or 10de:1112), then they <strong>will be bound to vfio-pci too</strong> ‚Äî even if the GPU itself doesn't match directly.</p>
<p>So, instead of using <code>vfio-pci.ids</code>, which uses IDs <strong>globally</strong>, use <strong>device-specific binding</strong> based on PCI addresses (Bus:Device.Function). Identify the full PCI addresses of the devices <strong>you want to passthrough</strong> (and only those). Create a script to bind specific devices, <code>/usr/local/bin/vfio-bind.sh</code>. Make sure your <strong>vfio-pci binding script runs early enough in the boot process</strong> to grab the devices <strong>before any other driver claims them</strong>. There are a few ways to do this on Ubuntu, but the <strong>cleanest and most robust</strong> is using a <strong><code>systemd</code> service</strong> that runs at the right time‚Äî<strong>before device drivers initialize</strong> but <strong>after the necessary sysfs paths exist</strong>. Substitute <code>0000:01:00.0 0000:01:00.1 0000:02:00.0 0000:02:00.1</code> with your PCI addresses.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># Load vfio-pci.</span>
modprobe<span class="w"> </span>vfio-pci

<span class="c1"># Use driver_override (cleaner way).</span>
<span class="k">for</span><span class="w"> </span>dev<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0000</span>:01:00.0<span class="w"> </span><span class="m">0000</span>:01:00.1<span class="w"> </span><span class="m">0000</span>:02:00.0<span class="w"> </span><span class="m">0000</span>:02:00.1<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;vfio-pci&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/bus/pci/devices/<span class="nv">$dev</span>/driver_override
<span class="k">done</span>

<span class="c1"># Bind the devices.</span>
<span class="k">for</span><span class="w"> </span>dev<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0000</span>:01:00.0<span class="w"> </span><span class="m">0000</span>:01:00.1<span class="w"> </span><span class="m">0000</span>:02:00.0<span class="w"> </span><span class="m">0000</span>:02:00.1<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$dev</span><span class="w"> </span>&gt;<span class="w"> </span>/sys/bus/pci/drivers/vfio-pci/bind
<span class="k">done</span>
</code></pre></div>
<p>Make it executable:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chmod<span class="w"> </span>+x<span class="w"> </span>/usr/local/bin/vfio-bind.sh
</code></pre></div>
<p>Create the <code>systemd</code> service at <code>/etc/systemd/system/vfio-bind.service</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">[Unit]</span>
<span class="na">Description</span><span class="o">=</span><span class="s">Bind GPUs to vfio-pci</span>
<span class="na">Before</span><span class="o">=</span><span class="s">basic.target</span>
<span class="na">After</span><span class="o">=</span><span class="s">systemd-modules-load.service</span>
<span class="na">DefaultDependencies</span><span class="o">=</span><span class="s">no</span>

<span class="k">[Service]</span>
<span class="na">Type</span><span class="o">=</span><span class="s">oneshot</span>
<span class="na">ExecStart</span><span class="o">=</span><span class="s">/usr/local/bin/vfio-bind.sh</span>

<span class="k">[Install]</span>
<span class="na">WantedBy</span><span class="o">=</span><span class="s">basic.target</span>
</code></pre></div>
<blockquote>
<p>üîç <code>DefaultDependencies=no</code> ensures it runs early, and <code>basic.target</code> is reached before most services or drivers load.</p>
</blockquote>
<p>Enable and rebuild initramfs (optional but recommended).</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>vfio-bind.service
</code></pre></div>
<p>If you're not using <code>vfio-pci.ids</code> in your GRUB anymore (good!), you don‚Äôt <em>have</em> to regenerate <code>initramfs</code>, but if you're still using any early-loading module configs, you might:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>update-initramfs<span class="w"> </span>-u
</code></pre></div>
<p>Reboot and confirm. After rebooting, confirm your devices are bound:</p>
<div class="highlight"><pre><span></span><code>lspci<span class="w"> </span>-nnk<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-A<span class="w"> </span><span class="m">3</span><span class="w"> </span>-E<span class="w"> </span><span class="s1">&#39;VGA|Audio&#39;</span>
</code></pre></div>
<p>Look for your passthrough GPUs showing <code>Kernel driver in use: vfio-pci</code>.</p>
<h3 id="software-raid">Software RAID</h3>
<p>From the internet search, the suggested tool is <code>mdadm</code>.</p>
<p>To install <code>mdadm</code>, run the following command in terminal.</p>
<pre><code>sudo apt install mdadm
</code></pre>
<p>The following command will create the RAID 5 array.</p>
<pre><code>sudo mdadm --create --verbose /dev/md0 --level=5 --raid-devices=3 /dev/sda /dev/sdb /dev/sdc
</code></pre>
<p>Format the RAID array and make it persistent.</p>
<pre><code>clear; sudo mkdir -p /mnt/md0
sudo mount /dev/md0 /mnt/md0/
df -h -x devtmpfs -x tmpfs
</code></pre>
<p>Then, inside the host machine, we can setup something like this.</p>
<pre><code>sudo mdadm --detail --scan | sudo tee -a /etc/mdadm/mdadm.conf
sudo update-initramfs -u
sudo echo '/dev/md0 /box ext4 defaults,nofail,discard 0 0' | sudo tee -a /etc/fstab
</code></pre>
<p>References:
* <a href="https://medium.com/@jing.kang99/create-raid-5-arrays-with-mdadm-on-ubuntu-22-04-fbb08898e01c">The 1/2 guide</a>
* <a href="https://ioflood.com/blog/install-mdadm-command-linux/">The 2/2 guide</a></p>
<h3 id="bios-raid">BIOS RAID</h3>
<p>Set the SATA from <code>AHCI</code> to <code>RAID</code>.</p>
<p>Created volume under <code>Advanced/Intel(R) VROC sSATA Controller/Create RAID Volume</code>.</p>
<p>Unfortunately, my configuration doesn't support <code>Intel(R) VROC sSATA Controller</code>. I will have to use software RAID.</p>
<pre><code>CPU: Intel(R) Xeon(R) Silver 4410Y
Generation: 4th "Sapphire Rapids"
Chipset: Intel¬Æ C621A Chipset
</code></pre>
<p>References:
* <a href="https://www.intel.com/content/www/us/en/support/articles/000099710/memory-and-storage/datacenter-storage-solutions.html">Intel¬Æ Virtual RAID on CPU (Intel¬Æ VROC) Operating Systems Support List</a>
* <a href="https://cdrdv2-public.intel.com/841093/intel-vroc-linux-releasenotes.pdf">Release Notes Intel¬Æ Virtual RAID on CPU (Intel¬Æ VROC) for Linux*</a>
* <a href="https://www.intel.com/content/www/us/en/products/sku/232376/intel-xeon-silver-4410y-processor-30m-cache-2-00-ghz/specifications.html">Intel¬Æ Xeon¬Æ Silver 4410Y Processor</a>
* <a href="https://www.intel.com/content/www/us/en/download/733029/intel-virtual-raid-on-cpu-intel-vroc-linux-driver-for-intel-server-boards-and-systems-based-on-intel-621a-chipset.html">Intel¬Æ Virtual RAID on CPU (Intel¬Æ VROC) Linux* Driver for Intel¬Æ Server Boards and Systems Based on Intel¬Æ 621A Chipset</a>
* <a href="https://www.supermicro.com/en/products/system/gpu/4u/sys-740gp-tnrt">GPU SuperServer SYS-740GP-TNRT</a></p>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="blackscreen-using-gdm3-on-ubuntu-with-wayland">Blackscreen using <code>gdm3</code> on Ubuntu with Wayland</h3>
<p>On Ubuntu 24.04, the <em>gdm3</em> display manager by default runs on Wayland. However, sometimes, e.g. <em>ast</em> driver, doesn't work with Wayland. To switch to Xorg uncomment <code>WaylandEnable=false</code> line by modifying <code>/etc/gdm3/custom.conf</code> configuration file. Save the file and reboot. This is the only working solution I have found so far.</p>
<p>I have tried many things, such as reinstalling by <strong>removing</strong> <em>gdm3</em>. I switched to <em>tty3</em>, using <code>Ctrl+Alt+F3</code> and stopped the display manager service, i.e. <em>gdm3</em>, using commands below. Stopping <em>gdm</em> and <em>display-manager.service</em> act as aliases and, in my opinion, it is better to stop the original service. I have tried both removing then rebooting, as well as, removing without rebooting. Also, I tried with and without stopping the <em>gdm3</em> service. Unfortunately, it didn't help.</p>
<pre><code>sudo systemctl stop gdm3
sudo apt remove gdm3
sudo apt install gdm3.
</code></pre>
<p>I have tried reinstalling by <strong>purging</strong> <em>gdm3</em>. I did the same experiments as with <strong>removing</strong>. Initially, when I tried to stop the service, purge it, and install it without rebooting the display manager started to work. Happily after, I logged into my user account and all seemed to be working. However, when I have rebooted, the problem came back.</p>
<pre><code>sudo systemctl stop gdm3
sudo apt purging gdm3
sudo apt install gdm3.
</code></pre>
<h2 id="faq">FAQ</h2>
<h3 id="how-to-develop-the-hardcode-project">How to develop the hardcode project</h3>
<pre><code>git clone git@github.com:couper64/hardcode.git
cd hardcode
</code></pre>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">If the <code>hardcode</code> environment <strong>doesn't</strong> exist.</label><label for="__tabbed_9_2">If the <code>hardcode</code> environment <strong>does</strong> exist.</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>conda create -yn hardcode python=3
conda activate hardcode
pip install -r requirements.txt</p>
</div>
<div class="tabbed-block">
<p>conda activate hardcode</p>
</div>
</div>
</div>
<p>Finally, after the environment is set and Python packages are installed for the local development. To run the <code>public</code> documentation.</p>
<pre><code>mkdocs serve -f public/mkdocs.yml
</code></pre>
<p>And, to run the <code>private</code> documentation.</p>
<pre><code>mkdocs serve -f private/mkdocs.yml
</code></pre>
<p>From this point on, the changes should immediately update every time the changes are saved.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For completeness sake, below is the command to build the static website, but it isn't needed in our use case.</p>
<pre><code>mkdocs build -f public/mkdocs.yml
mkdocs build -f private/mkdocs.yml
</code></pre>
</div>
<h3 id="what-are-the-base-devel-dependencies">What are the <code>base-devel</code> Dependencies</h3>
<p>List of dependencies that <code>base-devel</code> brings with itself. To highlight that <code>base-devel</code> is optional, at least in theory, I put it in the post-installation section [<a href="#arch-linux">1</a>].</p>
<ul>
<li>archlinux-keyring</li>
<li>autoconf</li>
<li>automake</li>
<li>binutils</li>
<li>bison</li>
<li>debugedit</li>
<li>fakeroot</li>
<li>file</li>
<li>findutils</li>
<li>flex</li>
<li>gawk</li>
<li>gcc</li>
<li>gettext</li>
<li>grep</li>
<li>groff</li>
<li>gzip</li>
<li>libtool</li>
<li>m4</li>
<li>make</li>
<li>pacman</li>
<li>patch</li>
<li>pkgconf</li>
<li>sed</li>
<li>sudo</li>
<li>texinfo</li>
<li>which</li>
</ul>
<h3 id="how-to-bypass-the-networking-requirement-during-the-windows-11-installation">How to Bypass the Networking Requirement during the Windows 11 Installation</h3>
<p><code>Shift</code> + <code>F10</code> to open up Windows Command Prompt.</p>
<div class="highlight"><pre><span></span><code>oobe\bypassnro
</code></pre></div>
<p>The system should reboot and, at the step where it prompts the user to connect to the internet, the <code>I don't have internet</code> button should be appear.</p>
<h3 id="what-to-install">What to Install</h3>
<ol>
<li>Timeshift to backup &amp; restore on Linux.</li>
<li>Remmina to connect to a remote desktop on Linux. Remote Desktop Connection on Windows.</li>
<li>Firefox to access the internet.</li>
<li>KeePassXC to manage passwords.</li>
<li><code>rclone</code> to use Google Drive to share files.</li>
<li><code>mc</code>, <code>nnn</code> to manage files.</li>
<li><code>nvim</code>, VS Code to edit text.</li>
</ol>
<h3 id="how-to-reject-dhcp-service-using-networkmanager">How to Reject DHCP Service using <code>NetworkManager</code></h3>
<p>Create and edit <code>/etc/NetworkManager/dispatcher.d/10-block-bad-dhcp</code> to reject secondary DHCP service on a Linux that uses <code>NetworkManager</code>. Set the <code>eno1</code> argument according to the available adapter name.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nv">IFACE</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="nv">STATUS</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>

logger<span class="w"> </span><span class="s2">&quot;NetworkManager: Triggered on </span><span class="nv">$IFACE</span><span class="s2"> with status </span><span class="nv">$STATUS</span><span class="s2">&quot;</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$IFACE</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;eno1&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$STATUS</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;up&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$STATUS</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;dhcp4-change&quot;</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nv">IP</span><span class="o">=</span><span class="k">$(</span>ip<span class="w"> </span>-4<span class="w"> </span>addr<span class="w"> </span>show<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$IFACE</span><span class="s2">&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;/ inet / {print $2}&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d/<span class="w"> </span>-f1<span class="k">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$IP</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">192</span>.168.*<span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span>logger<span class="w"> </span><span class="s2">&quot;NetworkManager: Blocking DHCP lease from </span><span class="nv">$IP</span><span class="s2"> on </span><span class="nv">$IFACE</span><span class="s2">&quot;</span>
<span class="w">        </span>ip<span class="w"> </span>addr<span class="w"> </span>flush<span class="w"> </span>dev<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$IFACE</span><span class="s2">&quot;</span>
<span class="w">        </span>nmcli<span class="w"> </span>device<span class="w"> </span>disconnect<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$IFACE</span><span class="s2">&quot;</span>
<span class="w">        </span>sleep<span class="w"> </span><span class="m">2</span>
<span class="w">        </span>nmcli<span class="w"> </span>device<span class="w"> </span>connect<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$IFACE</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span>logger<span class="w"> </span><span class="s2">&quot;NetworkManager: Accepted </span><span class="nv">$IP</span><span class="s2"> on </span><span class="nv">$IFACE</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">fi</span>
<span class="k">fi</span>

<span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
</code></pre></div>
<h3 id="how-to-develop-the-hardcode-project_1">How to develop the hardcode project</h3>
<pre><code>git clone git@github.com:couper64/hardcode.git
cd hardcode
</code></pre>
<div class="tabbed-set tabbed-alternate" data-tabs="10:2"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">If the <code>hardcode</code> environment <strong>doesn't</strong> exist.</label><label for="__tabbed_10_2">If the <code>hardcode</code> environment <strong>does</strong> exist.</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>conda create -yn hardcode python=3
conda activate hardcode
pip install -r requirements.txt</p>
</div>
<div class="tabbed-block">
<p>conda activate hardcode</p>
</div>
</div>
</div>
<p>Finally, after the environment is set and Python packages are installed for the local development. To run the <code>public</code> documentation.</p>
<pre><code>mkdocs serve -f public/mkdocs.yml
</code></pre>
<p>And, to run the <code>private</code> documentation.</p>
<pre><code>mkdocs serve -f private/mkdocs.yml
</code></pre>
<p>From this point on, the changes should immediately update every time the changes are saved.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For completeness sake, below is the command to build the static website, but it isn't needed in our use case.</p>
<pre><code>mkdocs build -f public/mkdocs.yml
mkdocs build -f private/mkdocs.yml
</code></pre>
</div>
<h3 id="how-to-resize-kvm-virtual-disk-size">How to resize KVM virtual disk size</h3>
<p>Resize the virtual disk size.</p>
<pre><code>sudo qemu-img resize /data/kvm/&lt;vm_name&gt; +10G
</code></pre>
<p>Check if the virtual disk has been resized.</p>
<pre><code>sudo qemu-img info /data/kvm/&lt;vm_name&gt;
</code></pre>
<p>This gives the path to the *.qcow2 file which is used as an argument to the resizing command.</p>
<pre><code>sudo virsh domblklist &lt;vm_name&gt;
</code></pre>
<p>Make sure that there are no snapshots otherwise resizing won't work.</p>
<pre><code>sudo virsh snapshot-list &lt;vm_name&gt;
</code></pre>
<p>Remove them using this command.</p>
<pre><code>sudo virsh snapshot-delete &lt;vm_name&gt; &lt;snapshot_name&gt;
</code></pre>
<p>Instructions are based on this <a href="https://linuxiac.com/how-to-resize-extend-kvm-virtual-disk-size/">guide</a>.</p>
<h3 id="how-to-rofi">How to Rofi</h3>
<p>Rofi: https://github.com/davatorium/rofi
Themes: https://github.com/adi1090x/rofi</p>
<h3 id="how-to-install-and-use-rclone">How to Install and Use <code>rclone</code></h3>
<p>To install <code>rclone</code>, use the command <code>sudo pacman --sync rclone</code> on Arch.</p>
<p>To mount a Google Drive remote with rclone, use the command <code>rclone mount remote_name: /path/to/mountpoint</code> replacing <code>remote_name</code> with your configured remote and <code>/path/to/mountpoint</code> with the local folder.</p>
<h3 id="how-to-install-surf-on-arch-linux">How to install surf on Arch Linux</h3>
<p>Install dependencies [<a href="https://bbs.archlinux.org/viewtopic.php?id=268489">1</a>, <a href="https://bbs.archlinux.org/viewtopic.php?id=271511">2</a>].</p>
<pre><code>sudo pacman -S gcr webkit2gtk-4.1
git clone git://git.suckless.org/surf ~/.local/src/surf
</code></pre>
<p>Use the following to open a webpage.</p>
<pre><code>surf http://your-url
</code></pre>
<p>During operation, use <code>ctrl-g</code> to enter a new URL [<a href="https://surf.suckless.org/">1</a>]. An interesting documentation could be found here at [<a href="https://troubleshooters.com/linux/surf.htm">1</a>] as well.</p>
<h3 id="how-to-enable-tpm-on-kvm">How to enable TPM on KVM</h3>
<pre><code>sudo pacman -S swtpm
</code></pre>
<p>Then in <code>virt-manager</code> [<a href="https://computingforgeeks.com/enable-tpm-on-kvm-and-install-windows/">1</a>, <a href="https://insights.ditatompel.com/en/tutorials/run-windows-11-tpm-and-secure-boot-on-kvm/">2</a>]:</p>
<ol>
<li>Allow customization before installation by checking the box. You can also configure the VM network. For this guide I have used a bridged network.</li>
<li>On the overview windows, select add hardware.</li>
<li>Add TPM 2.0 and make the settings as shown. Then click Finish to apply the changes.<ol>
<li>Model: TIS</li>
<li>Backend: Emulated device</li>
<li>Version: 2.0</li>
</ol>
</li>
<li>Just before you begin the installation, remember to change Firmware. Apply the changes and begin the installation.<ol>
<li>Firmware: *_secboot.fd</li>
</ol>
</li>
</ol>
<h3 id="how-to-resize-kvm-virtual-disk-size_1">How to resize KVM virtual disk size</h3>
<p>Resize the virtual disk size.</p>
<pre><code>sudo qemu-img resize /data/kvm/&lt;vm_name&gt; +10G
</code></pre>
<p>Check if the virtual disk has been resized.</p>
<pre><code>sudo qemu-img info /data/kvm/&lt;vm_name&gt;
</code></pre>
<p>This gives the path to the *.qcow2 file which is used as an argument to the resizing command.</p>
<pre><code>sudo virsh domblklist &lt;vm_name&gt;
</code></pre>
<p>Make sure that there are no snapshots otherwise resizing won't work.</p>
<pre><code>sudo virsh snapshot-list &lt;vm_name&gt;
</code></pre>
<p>Remove them using this command.</p>
<pre><code>sudo virsh snapshot-delete &lt;vm_name&gt; &lt;snapshot_name&gt;
</code></pre>
<p>Instructions are based on this <a href="https://linuxiac.com/how-to-resize-extend-kvm-virtual-disk-size/">guide</a>.</p>
<h3 id="how-to-clean-wipe-a-drive">How to Clean Wipe a Drive</h3>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/zero<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/dev/sdX<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>4M<span class="w"> </span><span class="nv">status</span><span class="o">=</span>progress
</code></pre></div>
<h3 id="how-to-use-timeshift">How to Use Timeshift</h3>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>blkid
lsblk
</code></pre></div>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>nano<span class="w"> </span>/etc/fstab
</code></pre></div>
<div class="highlight"><pre><span></span><code>/dev/disk/by-uuid/your-partition-uuid<span class="w"> </span>/mnt/your-mount-point<span class="w"> </span>ext4<span class="w"> </span>defaults<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
</code></pre></div>
<p>Or,</p>
<div class="highlight"><pre><span></span><code>/dev/disk/by-uuid/your-partition-uuid<span class="w"> </span>/mnt/your-mount-point<span class="w"> </span>ext4<span class="w"> </span>noauto<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>timeshift<span class="w"> </span>--create
sudo<span class="w"> </span>timeshift<span class="w"> </span>--list
sudo<span class="w"> </span>timeshift<span class="w"> </span>--restore
</code></pre></div>
<p>I consider tools like Back in Time, Pike Backup, or Deja Dup not user friendly because I keep facing permissions-related errors with my home directory. Therefore, I ditch the idea of using two tools to backup my stuff and focus on Timeshift only for now.</p>
<h3 id="how-to-manage-vfat-devices-on-linux">How to manage VFAT devices on Linux</h3>
<p>VFAT is essentially FAT32 with long filename support.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>pacman<span class="w"> </span>-S<span class="w"> </span>dosfstools
</code></pre></div>
<p>This command will install tools such as <code>mkfs.vfat</code> and other commands that are used below.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dosfslabel<span class="w"> </span>/dev/sda1<span class="w"> </span>LABEL
</code></pre></div>
<p>This command will set a label to the parition. It will show up in File Explorer on Windows.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dosfsck<span class="w"> </span>-n<span class="w"> </span>/dev/sda1
</code></pre></div>
<p>This command will check if there are any dirty flags.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dosfsck<span class="w"> </span>-a<span class="w"> </span>/dev/sda1
</code></pre></div>
<p>This command will try to fix any issues with the partition including dirty flags.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The warning about the boot sector differences was solved using this command: <code>sudo mkfs.vfat -F 32 /dev/sda1</code>, i.e. simply reformatting the partition.</p>
</div>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>mount<span class="w"> </span>-t<span class="w"> </span>vfat<span class="w"> </span>-o<span class="w"> </span><span class="nv">uid</span><span class="o">=</span><span class="k">$(</span>id<span class="w"> </span>-u<span class="k">)</span>,gid<span class="o">=</span><span class="k">$(</span>id<span class="w"> </span>-g<span class="k">)</span><span class="w"> </span>/dev/sda1<span class="w"> </span>/mnt
</code></pre></div>
<p>This command will mount device with the same ownership as the user. Otherwise, it is root.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>fuser<span class="w"> </span>-m<span class="w"> </span>/dev/sda1
sudo<span class="w"> </span>umount<span class="w"> </span>/dev/sda1
sudo<span class="w"> </span>sync
sudo<span class="w"> </span>eject<span class="w"> </span>/dev/sda
</code></pre></div>
<p>These commands are used to <strong>safely</strong> remove device from the computer.</p>
<h2 id="appendix-a">Appendix A</h2>
<p>To hide the unmounted volumes, the setting is located at <code>Settings/Ubuntu Desktop/Dock/Configure Dock Behavior/Include Unmounted Volumes</code>.</p>
<p>Command to recursively delete files.</p>
<pre><code>find . -type f -name '*.o' -exec rm {} +
</code></pre>
<p>Command to recusrively clone a repository.</p>
<pre><code>git clone --recurse-submodules git://github.com/foo/bar.git
</code></pre>
<p>Command to kill Ngrok process.</p>
<pre><code>kill -9 "$(pgrep ngrok)"
</code></pre>
<p>Commands to run Ngrok in the background.</p>
<pre><code>clear ; ngrok http http://localhost:8080 &gt; /dev/null &amp;
clear ; export WEBHOOK_URL="$(curl http://localhost:4040/api/tunnels | jq ".tunnels[0].public_url")"
clear ; echo $WEBHOOK_URL
</code></pre>
<p>Commands to install and setup Ngrok. First, sign up (in) and retrieve the authorisation token.</p>
<pre><code>snap install ngrok
ngrok config add-authtoken &lt;token&gt;
</code></pre>
<p>Another installation command, because when I installed <strong>ngrok</strong> through <strong>snap</strong>, it couldn't start a service, but when installed through <strong>apt</strong>, it worked.</p>
<pre><code>curl -s https://ngrok-agent.s3.amazonaws.com/ngrok.asc | \
  sudo gpg --dearmor -o /etc/apt/keyrings/ngrok.gpg &amp;&amp; \
  echo "deb [signed-by=/etc/apt/keyrings/ngrok.gpg] https://ngrok-agent.s3.amazonaws.com buster main" | \
  sudo tee /etc/apt/sources.list.d/ngrok.list &amp;&amp; \
  sudo apt update &amp;&amp; sudo apt install ngrok
sudo ngrok service install --config /path/to/config.yml
sudo ngrok service start
</code></pre>
<p>Although, all the messages were indicating "ok", it didn't work for me. Here is the config file.</p>
<pre><code>authtoken: &lt;your-auth-token&gt;
tunnels:
    default:
        proto: http
        addr: 8080
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="mailto:li.vlad.viktor@gmail.com" target="_blank" rel="noopener" title="Email Me" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l208 156a48 48 0 0 0 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 196v188c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V196L313.6 344.8c-34.1 25.6-81.1 25.6-115.2 0z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>